// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function aa(){return function(){}}function ba(n){return function(){return this[n]}}function H(n){return function(){return n}}var ca,I,J,da,ea,L,ga,ha,M,ia,ja,ka,P,la,ma,na,oa,pa,qa,ra,sa,va,wa,Q,xa,ya,S,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,T,Bb,Cb,Db,U,Eb,Fb={},Gb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(n){return n.__proto__}:function(n){return n.constructor.prototype});
(function(){function n(d,a,r,e){this.set(d,a,r,e)}function k(){this.bb=this.ab=this.eb=this.cb=this.kb=this.jb=this.xa=this.wa=0}function b(d,a,r,e){d<a?r<e?(m=d<r?d:r,f=a>e?a:e):(m=d<e?d:e,f=a>r?a:r):r<e?(m=a<r?a:r,f=d>e?d:e):(m=a<e?a:e,f=d>r?d:r)}function c(){this.tc=this.$b=null;this.Vd=0;q&&(this.$b=new Set);this.me=[];this.Ic=!0}function s(a){p[d++]=a}function a(){this.Ca=this.Cg=this.y=this.Sg=0}function e(d){this.ia=[];this.wf=this.yf=this.zf=this.xf=0;this.ff(d)}function l(d,a){this.Il=d;
this.Hl=a;this.cells={}}function h(d,a,e){var t;return r.length?(t=r.pop(),t.rn=d,t.x=a,t.y=e,t):new ca(d,a,e)}function g(d,a,r){this.rn=d;this.x=a;this.y=r;this.Ye=new I}J=function(d){window.console&&window.console.log&&window.console.log(d)};da=function(d){return"undefined"===typeof d};ea=function(d){return"number"===typeof d};L=function(d){return"string"===typeof d};ga=function(d){return 0<d&&0===(d-1&d)};ha=function(d){--d;for(var a=1;32>a;a<<=1)d|=d>>a;return d+1};M=function(d){return 0>d?-d:
d};ia=function(d,a){return d>a?d:a};ja=function(d,a){return d<a?d:a};ka=Math.PI;P=function(d){return 0<=d?d|0:(d|0)-1};la=function(d){var a=d|0;return a===d?a:a+1};ma=function(d,a,r,e,t,l,p,b){var q,f,h,g;d<r?(f=d,q=r):(f=r,q=d);t<p?(g=t,h=p):(g=p,h=t);if(q<g||f>h)return!1;a<e?(f=a,q=e):(f=e,q=a);l<b?(g=l,h=b):(g=b,h=l);if(q<g||f>h)return!1;q=t-d+p-r;f=l-a+b-e;d=r-d;a=e-a;t=p-t;l=b-l;b=M(a*t-l*d);return M(t*f-l*q)>b?!1:M(d*f-a*q)<=b};n.prototype.set=function(d,a,r,e){this.left=d;this.top=a;this.right=
r;this.bottom=e};n.prototype.copy=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};n.prototype.width=function(){return this.right-this.left};n.prototype.height=function(){return this.bottom-this.top};n.prototype.offset=function(d,a){this.left+=d;this.top+=a;this.right+=d;this.bottom+=a;return this};n.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,
this.bottom=d)};n.prototype.yn=function(d){return!(d.right<this.left||d.bottom<this.top||d.left>this.right||d.top>this.bottom)};n.prototype.zn=function(d,a,r){return!(d.right+a<this.left||d.bottom+r<this.top||d.left+a>this.right||d.top+r>this.bottom)};n.prototype.ob=function(d,a){return d>=this.left&&d<=this.right&&a>=this.top&&a<=this.bottom};n.prototype.km=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};na=n;k.prototype.ef=function(d){this.wa=
d.left;this.xa=d.top;this.jb=d.right;this.kb=d.top;this.cb=d.right;this.eb=d.bottom;this.ab=d.left;this.bb=d.bottom};k.prototype.Bk=function(d,a){if(0===a)this.ef(d);else{var r=Math.sin(a),e=Math.cos(a),t=d.left*r,l=d.top*r,b=d.right*r,r=d.bottom*r,p=d.left*e,q=d.top*e,f=d.right*e,e=d.bottom*e;this.wa=p-l;this.xa=q+t;this.jb=f-l;this.kb=q+b;this.cb=f-r;this.eb=e+b;this.ab=p-r;this.bb=e+t}};k.prototype.offset=function(d,a){this.wa+=d;this.xa+=a;this.jb+=d;this.kb+=a;this.cb+=d;this.eb+=a;this.ab+=
d;this.bb+=a;return this};var m=0,f=0;k.prototype.Hi=function(d){b(this.wa,this.jb,this.cb,this.ab);d.left=m;d.right=f;b(this.xa,this.kb,this.eb,this.bb);d.top=m;d.bottom=f};k.prototype.ob=function(d,a){var r=this.jb-this.wa,e=this.kb-this.xa,t=this.cb-this.wa,l=this.eb-this.xa,b=d-this.wa,p=a-this.xa,q=r*r+e*e,f=r*t+e*l,e=r*b+e*p,h=t*t+l*l,g=t*b+l*p,c=1/(q*h-f*f),r=(h*e-f*g)*c,q=(q*g-f*e)*c;if(0<=r&&0<q&&1>r+q)return!0;r=this.ab-this.wa;e=this.bb-this.xa;q=r*r+e*e;f=r*t+e*l;e=r*b+e*p;c=1/(q*h-f*
f);r=(h*e-f*g)*c;q=(q*g-f*e)*c;return 0<=r&&0<q&&1>r+q};k.prototype.Fc=function(d,a){if(a)switch(d){case 0:return this.wa;case 1:return this.jb;case 2:return this.cb;case 3:return this.ab;case 4:return this.wa;default:return this.wa}else switch(d){case 0:return this.xa;case 1:return this.kb;case 2:return this.eb;case 3:return this.bb;case 4:return this.xa;default:return this.xa}};k.prototype.Wj=function(){return(this.wa+this.jb+this.cb+this.ab)/4};k.prototype.Xj=function(){return(this.xa+this.kb+
this.eb+this.bb)/4};k.prototype.qj=function(d){var a=d.Wj(),r=d.Xj();if(this.ob(a,r))return!0;a=this.Wj();r=this.Xj();if(d.ob(a,r))return!0;var e,t,l,b,p,q,f,h;for(f=0;4>f;f++)for(h=0;4>h;h++)if(a=this.Fc(f,!0),r=this.Fc(f,!1),e=this.Fc(f+1,!0),t=this.Fc(f+1,!1),l=d.Fc(h,!0),b=d.Fc(h,!1),p=d.Fc(h+1,!0),q=d.Fc(h+1,!1),ma(a,r,e,t,l,b,p,q))return!0;return!1};oa=k;pa=function(d,a){for(var r in a)a.hasOwnProperty(r)&&(d[r]=a[r]);return d};qa=function(d,a){var r,e;a=P(a);if(!(0>a||a>=d.length)){r=a;for(e=
d.length-1;r<e;r++)d[r]=d[r+1];d.length=e}};ra=function(d,a){d.length=a.length;var r,e;r=0;for(e=a.length;r<e;r++)d[r]=a[r]};sa=function(d,a){d.push.apply(d,a)};va=function(d,a){var r,e;r=0;for(e=d.length;r<e;++r)if(d[r]===a)return r;return-1};wa=function(d,a){var r=va(d,a);-1!==r&&qa(d,r)};Q=function(d){return d/(180/ka)};xa=function(d){return d*(180/ka)};ya=function(d){d%=360;0>d&&(d+=360);return d};S=function(d){d%=2*ka;0>d&&(d+=2*ka);return d};za=function(d){return ya(xa(d))};Aa=function(d){return S(Q(d))};
Ba=function(d,a,r,e){return Math.atan2(e-a,r-d)};Ca=function(d,a){if(d===a)return 0;var r=Math.sin(d),e=Math.cos(d),t=Math.sin(a),l=Math.cos(a),r=r*t+e*l;return 1<=r?0:-1>=r?ka:Math.acos(r)};Da=function(d,a,r){var e=Math.sin(d),t=Math.cos(d),l=Math.sin(a),b=Math.cos(a);return Math.acos(e*l+t*b)>r?0<t*l-e*b?S(d+r):S(d-r):S(a)};Ea=function(d,a){var r=Math.sin(d),e=Math.cos(d),t=Math.sin(a),l=Math.cos(a);return 0>=e*t-r*l};Fa=function(d,a,r,e){d=r-d;a=e-a;return Math.sqrt(d*d+a*a)};Ga=function(d,a){return!d!==
!a};Ha=function(d){for(var a in d)if(d.hasOwnProperty(a))return!0;return!1};Ia=function(d){for(var a in d)d.hasOwnProperty(a)&&delete d[a]};var x=+new Date;Ja=function(){if("undefined"!==typeof window.performance){var d=window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-x};var u=!1,w=u=!1,v=!1;"undefined"!==typeof window&&
(u=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),u=!u&&/safari/i.test(navigator.userAgent),w=/(iphone|ipod|ipad)/i.test(navigator.userAgent),v=window.c2ejecta);var q=!u&&!v&&!w&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;c.prototype.contains=function(d){return this.Ib()?!1:q?this.$b.has(d):this.tc&&this.tc.hasOwnProperty(d)};c.prototype.add=function(d){if(q)this.$b.has(d)||(this.$b.add(d),this.Ic=!1);else{var a=d.toString(),r=this.tc;r?r.hasOwnProperty(a)||
(r[a]=d,this.Vd++,this.Ic=!1):(this.tc={},this.tc[a]=d,this.Vd=1,this.Ic=!1)}};c.prototype.remove=function(d){if(!this.Ib())if(q)this.$b.has(d)&&(this.$b["delete"](d),this.Ic=!1);else if(this.tc){d=d.toString();var a=this.tc;a.hasOwnProperty(d)&&(delete a[d],this.Vd--,this.Ic=!1)}};c.prototype.clear=function(){this.Ib()||(q?this.$b.clear():(this.tc=null,this.Vd=0),this.me.length=0,this.Ic=!0)};c.prototype.Ib=function(){return 0===this.count()};c.prototype.count=function(){return q?this.$b.size:this.Vd};
var p=null,d=0;c.prototype.Bo=function(){if(!this.Ic){if(q)this.me.length=this.$b.size,p=this.me,d=0,this.$b.forEach(s),p=null,d=0;else{var a=this.me;a.length=this.Vd;var r,e=0,t=this.tc;if(t)for(r in t)t.hasOwnProperty(r)&&(a[e++]=t[r])}this.Ic=!0}};c.prototype.Cd=function(){this.Bo();return this.me};I=c;new I;a.prototype.add=function(d){this.y=d-this.Sg;this.Cg=this.Ca+this.y;this.Sg=this.Cg-this.Ca-this.y;this.Ca=this.Cg};a.prototype.reset=function(){this.Ca=this.Cg=this.y=this.Sg=0};Ka=a;La=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};e.prototype.ff=function(d){this.ok=d;this.Mb=d.length/2;this.ia.length=d.length;this.Bf=this.Cf=-1;this.Ji=0};e.prototype.Td=function(){return!this.ok.length};e.prototype.qa=function(){for(var d=this.ia,a=d[0],r=a,e=d[1],t=e,l,b,p=1,q=this.Mb;p<q;++p)b=2*p,l=d[b],b=d[b+1],l<a&&(a=l),l>r&&(r=l),b<e&&(e=b),b>t&&(t=b);this.xf=a;this.yf=r;this.zf=e;this.wf=t};e.prototype.ef=function(d,a,r){this.ia.length=8;this.Mb=4;var e=this.ia;e[0]=d.left-a;e[1]=d.top-r;e[2]=d.right-a;e[3]=d.top-r;e[4]=d.right-
a;e[5]=d.bottom-r;e[6]=d.left-a;e[7]=d.bottom-r;this.Cf=d.right-d.left;this.Bf=d.bottom-d.top;this.qa()};e.prototype.he=function(d,a,r,e,t){this.ia.length=8;this.Mb=4;var l=this.ia;l[0]=d.wa-a;l[1]=d.xa-r;l[2]=d.jb-a;l[3]=d.kb-r;l[4]=d.cb-a;l[5]=d.eb-r;l[6]=d.ab-a;l[7]=d.bb-r;this.Cf=e;this.Bf=t;this.qa()};e.prototype.Ak=function(d){this.Mb=d.Mb;ra(this.ia,d.ia);this.xf=d.xf;this.zf-d.zf;this.yf=d.yf;this.wf=d.wf};e.prototype.Kd=function(d,a,r){if(this.Cf!==d||this.Bf!==a||this.Ji!==r){this.Cf=d;
this.Bf=a;this.Ji=r;var e,t,l,b,p,q=0,f=1,h=this.ok,g=this.ia;0!==r&&(q=Math.sin(r),f=Math.cos(r));r=0;for(l=this.Mb;r<l;r++)e=2*r,t=e+1,b=h[e]*d,p=h[t]*a,g[e]=b*f-p*q,g[t]=p*f+b*q;this.qa()}};e.prototype.ob=function(d,a){var r=this.ia;if(d===r[0]&&a===r[1])return!0;var e,t,l,b=this.Mb,p=this.xf-110,q=this.zf-101,f=this.yf+131,h=this.wf+120,g,c,m=0,k=0;for(e=0;e<b;e++)t=2*e,l=2*((e+1)%b),g=r[t],t=r[t+1],c=r[l],l=r[l+1],ma(p,q,d,a,g,t,c,l)&&m++,ma(f,h,d,a,g,t,c,l)&&k++;return 1===m%2||1===k%2};e.prototype.Ie=
function(d,a,r){var e=d.ia,t=this.ia;if(this.ob(e[0]+a,e[1]+r)||d.ob(t[0]-a,t[1]-r))return!0;var l,b,p,q,f,h,g,c,m,k,n,u;l=0;for(q=this.Mb;l<q;l++)for(b=2*l,p=2*((l+1)%q),c=t[b],b=t[b+1],m=t[p],k=t[p+1],p=0,g=d.Mb;p<g;p++)if(f=2*p,h=2*((p+1)%g),n=e[f]+a,f=e[f+1]+r,u=e[h]+a,h=e[h+1]+r,ma(c,b,m,k,n,f,u,h))return!0;return!1};Ma=e;l.prototype.oh=function(d,a,r){var e;e=this.cells[d];return e?(e=e[a])?e:r?(e=h(this,d,a),this.cells[d][a]=e):null:r?(e=h(this,d,a),this.cells[d]={},this.cells[d][a]=e):null};
l.prototype.rf=function(d){return P(d/this.Il)};l.prototype.sf=function(d){return P(d/this.Hl)};l.prototype.update=function(d,a,e){var t,l,b,p,q;if(a)for(t=a.left,l=a.right;t<=l;++t)for(b=a.top,p=a.bottom;b<=p;++b)if(!e||!e.ob(t,b))if(q=this.oh(t,b,!1))q.remove(d),q.Ib()&&(q.Ye.clear(),1E3>r.length&&r.push(q),this.cells[t][b]=null);if(e)for(t=e.left,l=e.right;t<=l;++t)for(b=e.top,p=e.bottom;b<=p;++b)a&&a.ob(t,b)||this.oh(t,b,!0).xn(d)};l.prototype.qk=function(d,a){var r,e,t,l,b,p;r=this.rf(d.left);
t=this.sf(d.top);e=this.rf(d.right);for(b=this.sf(d.bottom);r<=e;++r)for(l=t;l<=b;++l)(p=this.oh(r,l,!1))&&p.gm(a)};Na=l;var r=[];g.prototype.Ib=function(){return this.Ye.Ib()};g.prototype.xn=function(d){this.Ye.add(d)};g.prototype.remove=function(d){this.Ye.remove(d)};g.prototype.gm=function(d){sa(d,this.Ye.Cd())};ca=g;var t="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Oa=function(d){return 0>=d||11<=d?"source-over":
t[d-1]};Pa=function(d,a,r){if(r)switch(d.Ba=r.ONE,d.za=r.ONE_MINUS_SRC_ALPHA,a){case 1:d.Ba=r.ONE;d.za=r.ONE;break;case 3:d.Ba=r.ONE;d.za=r.ZERO;break;case 4:d.Ba=r.ONE_MINUS_DST_ALPHA;d.za=r.ONE;break;case 5:d.Ba=r.DST_ALPHA;d.za=r.ZERO;break;case 6:d.Ba=r.ZERO;d.za=r.SRC_ALPHA;break;case 7:d.Ba=r.ONE_MINUS_DST_ALPHA;d.za=r.ZERO;break;case 8:d.Ba=r.ZERO;d.za=r.ONE_MINUS_SRC_ALPHA;break;case 9:d.Ba=r.DST_ALPHA;d.za=r.ONE_MINUS_SRC_ALPHA;break;case 10:d.Ba=r.ONE_MINUS_DST_ALPHA,d.za=r.SRC_ALPHA}};
Qa=function(d){return Math.round(1E6*d)/1E6};Ra=function(d,a){return"string"!==typeof d||"string"!==typeof a||d.length!==a.length?!1:d===a?!0:d.toLowerCase()===a.toLowerCase()};Sa=function(d){d=d.target;return!d||d===document||d===window||document&&document.body&&d===document.body||Ra(d.tagName,"canvas")?!0:!1}})();var Hb="undefined"!==typeof Float32Array?Float32Array:Array;function Ib(n){var k=new Hb(3);n&&(k[0]=n[0],k[1]=n[1],k[2]=n[2]);return k}
function X(n){var k=new Hb(16);n&&(k[0]=n[0],k[1]=n[1],k[2]=n[2],k[3]=n[3],k[4]=n[4],k[5]=n[5],k[6]=n[6],k[7]=n[7],k[8]=n[8],k[9]=n[9],k[10]=n[10],k[11]=n[11],k[12]=n[12],k[13]=n[13],k[14]=n[14],k[15]=n[15]);return k}function Jb(n,k){k[0]=n[0];k[1]=n[1];k[2]=n[2];k[3]=n[3];k[4]=n[4];k[5]=n[5];k[6]=n[6];k[7]=n[7];k[8]=n[8];k[9]=n[9];k[10]=n[10];k[11]=n[11];k[12]=n[12];k[13]=n[13];k[14]=n[14];k[15]=n[15]}
function Kb(n,k){var b=k[0],c=k[1];k=k[2];n[0]*=b;n[1]*=b;n[2]*=b;n[3]*=b;n[4]*=c;n[5]*=c;n[6]*=c;n[7]*=c;n[8]*=k;n[9]*=k;n[10]*=k;n[11]*=k}
function Lb(n,k,b,c){c||(c=X());var s,a,e,l,h,g,m,f,x=n[0],u=n[1];n=n[2];a=b[0];e=b[1];s=b[2];b=k[1];g=k[2];x===k[0]&&u===b&&n===g?(n=c,n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1):(b=x-k[0],g=u-k[1],m=n-k[2],f=1/Math.sqrt(b*b+g*g+m*m),b*=f,g*=f,m*=f,k=e*m-s*g,s=s*b-a*m,a=a*g-e*b,(f=Math.sqrt(k*k+s*s+a*a))?(f=1/f,k*=f,s*=f,a*=f):a=s=k=0,e=g*a-m*s,l=m*k-b*a,h=b*s-g*k,(f=Math.sqrt(e*e+l*l+h*h))?(f=1/f,e*=f,l*=f,h*=f):h=l=e=0,
c[0]=k,c[1]=e,c[2]=b,c[3]=0,c[4]=s,c[5]=l,c[6]=g,c[7]=0,c[8]=a,c[9]=h,c[10]=m,c[11]=0,c[12]=-(k*x+s*u+a*n),c[13]=-(e*x+l*u+h*n),c[14]=-(b*x+g*u+m*n),c[15]=1)}
(function(){function n(a){this.Rd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ki=Ib([0,0,100]);this.Jj=Ib([0,0,0]);this.Wk=Ib([0,1,0]);this.xi=Ib([1,1,1]);this.Si=!0;this.Oh=X();this.wb=X();this.Aj=X();this.$g=X();this.j=a;this.mj()}function k(a,e,l){this.j=a;this.gf=e;this.name=l;this.ub=a.getAttribLocation(e,"aPos");this.Nc=a.getAttribLocation(e,"aTex");this.Hj=a.getUniformLocation(e,"matP");this.ig=a.getUniformLocation(e,"matMV");this.Zd=
a.getUniformLocation(e,"opacity");this.Ij=a.getUniformLocation(e,"samplerFront");this.Te=a.getUniformLocation(e,"samplerBack");this.sd=a.getUniformLocation(e,"destStart");this.rd=a.getUniformLocation(e,"destEnd");this.Mh=a.getUniformLocation(e,"seconds");this.Lh=a.getUniformLocation(e,"pixelWidth");this.Kh=a.getUniformLocation(e,"pixelHeight");this.Se=a.getUniformLocation(e,"layerScale");this.Re=a.getUniformLocation(e,"layerAngle");this.Ue=a.getUniformLocation(e,"viewOrigin");this.un=!!(this.Lh||
this.Kh||this.Mh||this.Te||this.sd||this.rd||this.Se||this.Re||this.Ue);this.Qj=this.Rj=-999;this.kg=1;this.Nj=this.Mj=0;this.Pj=this.Lj=this.Kj=1;this.Tj=this.Sj=this.Oj=0;this.Hh=[];this.Aa=X();this.Zd&&a.uniform1f(this.Zd,1);this.Ij&&a.uniform1i(this.Ij,0);this.Te&&a.uniform1i(this.Te,1);this.sd&&a.uniform2f(this.sd,0,0);this.rd&&a.uniform2f(this.rd,1,1);this.Se&&a.uniform1f(this.Se,1);this.Re&&a.uniform1f(this.Re,0);this.Ue&&a.uniform2f(this.Ue,0,0);this.gd=!1}function b(a,e){this.type=a;this.p=
e;this.j=e.j;this.Yb=this.zb=this.gk=0;this.L=this.Qb=null;this.Ck=[]}n.prototype.mj=function(){var a=this.j,e;this.Bj=1;this.pd=this.od=null;this.If=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Cj=a.ONE;this.zj=a.ONE_MINUS_SRC_ALPHA;this.Wh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Wh);this.of=Array(4);this.jf=Array(4);for(e=0;4>e;e++)this.of[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,
this.of[e]),this.jf[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.jf[e]);this.kc=0;this.wn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.wn);this.wi=new Float32Array(16E3);this.ni=new Float32Array(16E3);this.Un=new Float32Array(32E3);for(var l=new Uint16Array(12E3),b=e=0;12E3>e;)l[e++]=b,l[e++]=b+1,l[e++]=b+2,l[e++]=b,l[e++]=b+2,l[e++]=b+3,b+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,l,a.STATIC_DRAW);this.Xh=this.fc=0;this.ka=[];e=this.Zg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ka.push(e);e=this.Zg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.ka.push(e);for(var g in Mb)Mb.hasOwnProperty(g)&&this.ka.push(this.Zg(Mb[g],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Hc=[];this.hc=0;this.Qa=!1;this.Pi=this.Me=-1;this.we=null;this.Jm=a.createFramebuffer();this.sk=
null;this.Wc=Ib([0,0,0]);this.Uj=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Uj&&(this.Uj=2048);this.cc(0)};k.prototype.si=function(a){if(this.Aa[0]!==a[0]||this.Aa[1]!==a[1]||this.Aa[2]!==a[2]||this.Aa[3]!==a[3]||this.Aa[4]!==a[4]||this.Aa[5]!==a[5]||this.Aa[6]!==a[6]||this.Aa[7]!==a[7]||this.Aa[8]!==a[8]||this.Aa[9]!==a[9]||this.Aa[10]!==a[10]||this.Aa[11]!==a[11]||this.Aa[12]!==a[12]||this.Aa[13]!==a[13]||this.Aa[14]!==a[14]||this.Aa[15]!==a[15])Jb(a,this.Aa),this.j.uniformMatrix4fv(this.ig,
!1,a)};n.prototype.Zg=function(a,e,l){var b=this.j,g=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(g,a.src);b.compileShader(g);if(!b.getShaderParameter(g,b.COMPILE_STATUS))return b.deleteShader(g),null;var c=b.createShader(b.VERTEX_SHADER);b.shaderSource(c,e);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))return b.deleteShader(g),b.deleteShader(c),null;e=b.createProgram();b.attachShader(e,g);b.attachShader(e,c);b.linkProgram(e);if(!b.getProgramParameter(e,b.LINK_STATUS))return b.deleteShader(g),
b.deleteShader(c),b.deleteProgram(e),null;b.useProgram(e);b.deleteShader(g);b.deleteShader(c);l=new k(b,e,l);l.hh=a.hh||0;l.ih=a.ih||0;l.Oi=!!a.Oi;l.Ei=!!a.Ei;l.u=a.u||[];a=0;for(g=l.u.length;a<g;a++)l.u[a][1]=b.getUniformLocation(e,l.u[a][0]),l.Hh.push(0),b.uniform1f(l.u[a][1],0);return l};n.prototype.th=function(a){var e,l;e=0;for(l=this.ka.length;e<l;e++)if(this.ka[e].name===a)return e;return-1};n.prototype.nk=function(a,e,l){var b=this.wb,g=this.Oh,c=[0,0,0,0,0,0,0,0];c[0]=b[0]*a+b[4]*e+b[12];
c[1]=b[1]*a+b[5]*e+b[13];c[2]=b[2]*a+b[6]*e+b[14];c[3]=b[3]*a+b[7]*e+b[15];c[4]=g[0]*c[0]+g[4]*c[1]+g[8]*c[2]+g[12]*c[3];c[5]=g[1]*c[0]+g[5]*c[1]+g[9]*c[2]+g[13]*c[3];c[6]=g[2]*c[0]+g[6]*c[1]+g[10]*c[2]+g[14]*c[3];c[7]=-c[2];0!==c[7]&&(c[7]=1/c[7],c[4]*=c[7],c[5]*=c[7],c[6]*=c[7],l[0]=(0.5*c[4]+0.5)*this.width,l[1]=(0.5*c[5]+0.5)*this.height)};n.prototype.ge=function(a,e,l){if(this.width!==a||this.height!==e||l){this.dd();this.width=a;this.height=e;this.j.viewport(0,0,a,e);e=a/e;var b=this.Oh,g;g=
1*Math.tan(45*Math.PI/360);e*=g;a=-e;l=-g;b||(b=X());var c=e-a,f=g-l;b[0]=2/c;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/f;b[6]=0;b[7]=0;b[8]=(e+a)/c;b[9]=(g+l)/f;b[10]=-1001/999;b[11]=-1;b[12]=0;b[13]=0;b[14]=-2E3/999;b[15]=0;Lb(this.Ki,this.Jj,this.Wk,this.wb);a=[0,0];e=[0,0];this.nk(0,0,a);this.nk(1,1,e);this.xi[0]=1/(e[0]-a[0]);this.xi[1]=-1/(e[1]-a[1]);a=0;for(e=this.ka.length;a<e;a++)l=this.ka[a],l.gd=!1,l.Hj&&(this.j.useProgram(l.gf),this.j.uniformMatrix4fv(l.Hj,!1,this.Oh));this.j.useProgram(this.ka[this.Me].gf);
this.j.bindTexture(this.j.TEXTURE_2D,null);this.j.activeTexture(this.j.TEXTURE1);this.j.bindTexture(this.j.TEXTURE_2D,null);this.j.activeTexture(this.j.TEXTURE0);this.pd=this.od=null}};n.prototype.Rc=function(){Lb(this.Ki,this.Jj,this.Wk,this.wb);Kb(this.wb,this.xi)};n.prototype.translate=function(a,e){if(0!==a||0!==e){this.Wc[0]=a;this.Wc[1]=e;this.Wc[2]=0;var b=this.wb,c=this.Wc,g=c[0],k=c[1],c=c[2];b[12]=b[0]*g+b[4]*k+b[8]*c+b[12];b[13]=b[1]*g+b[5]*k+b[9]*c+b[13];b[14]=b[2]*g+b[6]*k+b[10]*c+b[14];
b[15]=b[3]*g+b[7]*k+b[11]*c+b[15]}};n.prototype.scale=function(a,e){if(1!==a||1!==e)this.Wc[0]=a,this.Wc[1]=e,this.Wc[2]=1,Kb(this.wb,this.Wc)};n.prototype.tk=function(a){if(0!==a){var e=this.wb,b,c=Math.sin(a);a=Math.cos(a);var g=e[0],k=e[1],f=e[2],n=e[3],u=e[4],w=e[5],s=e[6],q=e[7];b?e!==b&&(b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=g*a+u*c;b[1]=k*a+w*c;b[2]=f*a+s*c;b[3]=n*a+q*c;b[4]=g*-c+u*a;b[5]=k*-c+w*a;b[6]=f*-c+s*a;b[7]=n*-c+q*a}};
n.prototype.Xc=function(){for(var a=!1,e=0;16>e;e++)if(this.Aj[e]!==this.wb[e]){a=!0;break}a&&(a=this.Nb(),a.type=5,a.L?Jb(this.wb,a.L):a.L=X(this.wb),Jb(this.wb,this.Aj),this.Qa=!1)};b.prototype.cm=function(){this.j.bindTexture(this.j.TEXTURE_2D,this.Qb)};b.prototype.dm=function(){var a=this.j;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Qb);a.activeTexture(a.TEXTURE0)};b.prototype.Zl=function(){var a=this.gk,e=this.p;e.If=a;e=e.we;e.Zd&&e.kg!==a&&(e.kg=a,this.j.uniform1f(e.Zd,a))};
b.prototype.Wl=function(){this.j.drawElements(this.j.TRIANGLES,this.Yb,this.j.UNSIGNED_SHORT,2*this.zb)};b.prototype.Yl=function(){this.j.blendFunc(this.zb,this.Yb)};b.prototype.em=function(){var a,e,b,c=this.p.ka,g=this.p.Pi;a=0;for(e=c.length;a<e;a++)b=c[a],a===g&&b.ig?(b.si(this.L),b.gd=!0):b.gd=!1;Jb(this.L,this.p.$g)};b.prototype.Xl=function(){var a=this.j,e=this.p;this.Qb?(e.pd===this.Qb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.pd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,
e.Jm),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Qb,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.Ul=function(){var a=this.j;0===this.zb?(a.clearColor(this.L[0],this.L[1],this.L[2],this.L[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.L[0],this.L[1],this.L[2],this.L[3]),a.clearColor(0,0,0,0),a.clear(this.j.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
b.prototype.Vl=function(){var a=this.j,e=this.p,b=e.ka[1];a.useProgram(b.gf);!b.gd&&b.ig&&(b.si(e.$g),b.gd=!0);a.enableVertexAttribArray(b.ub);a.bindBuffer(a.ARRAY_BUFFER,e.Wh);a.vertexAttribPointer(b.ub,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.zb/4,this.Yb);b=e.we;a.useProgram(b.gf);0<=b.ub&&(a.enableVertexAttribArray(b.ub),a.bindBuffer(a.ARRAY_BUFFER,e.of[e.kc]),a.vertexAttribPointer(b.ub,2,a.FLOAT,!1,0,0));0<=b.Nc&&(a.enableVertexAttribArray(b.Nc),a.bindBuffer(a.ARRAY_BUFFER,e.jf[e.kc]),a.vertexAttribPointer(b.Nc,
2,a.FLOAT,!1,0,0))};b.prototype.$l=function(){var a=this.j,e=this.p,b=e.ka[this.zb];e.Pi=this.zb;e.we=b;a.useProgram(b.gf);!b.gd&&b.ig&&(b.si(e.$g),b.gd=!0);b.Zd&&b.kg!==e.If&&(b.kg=e.If,a.uniform1f(b.Zd,e.If));0<=b.ub&&(a.enableVertexAttribArray(b.ub),a.bindBuffer(a.ARRAY_BUFFER,e.of[e.kc]),a.vertexAttribPointer(b.ub,2,a.FLOAT,!1,0,0));0<=b.Nc&&(a.enableVertexAttribArray(b.Nc),a.bindBuffer(a.ARRAY_BUFFER,e.jf[e.kc]),a.vertexAttribPointer(b.Nc,2,a.FLOAT,!1,0,0))};b.prototype.am=function(){var a,e,
b=this.p.we,c=this.j;a=this.L;b.Te&&this.p.pd!==this.Qb&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Qb),this.p.pd=this.Qb,c.activeTexture(c.TEXTURE0));var g=a[0];b.Lh&&g!==b.Rj&&(b.Rj=g,c.uniform1f(b.Lh,g));g=a[1];b.Kh&&g!==b.Qj&&(b.Qj=g,c.uniform1f(b.Kh,g));g=a[2];e=a[3];!b.sd||g===b.Mj&&e===b.Nj||(b.Mj=g,b.Nj=e,c.uniform2f(b.sd,g,e));g=a[4];e=a[5];!b.rd||g===b.Kj&&e===b.Lj||(b.Kj=g,b.Lj=g,c.uniform2f(b.rd,g,e));g=a[6];b.Se&&g!==b.Pj&&(b.Pj=g,c.uniform1f(b.Se,g));g=a[7];b.Re&&g!==
b.Oj&&(b.Oj=g,c.uniform1f(b.Re,g));g=a[8];e=a[9];!b.Ue||g===b.Sj&&g===b.Tj||(b.Sj=g,b.Tj=e,c.uniform2f(b.Ue,g,e));b.Mh&&c.uniform1f(b.Mh,Ja()/1E3);if(b.u.length)for(a=0,e=b.u.length;a<e;a++)g=this.Ck[a],g!==b.Hh[a]&&(b.Hh[a]=g,c.uniform1f(b.u[a][1],g))};n.prototype.Nb=function(){this.hc===this.Hc.length&&this.Hc.push(new b(0,this));return this.Hc[this.hc++]};n.prototype.dd=function(){if(0!==this.hc&&!this.j.isContextLost()){var a=this.j;0<this.Xh&&(a.bindBuffer(a.ARRAY_BUFFER,this.Wh),a.bufferData(a.ARRAY_BUFFER,
this.Un.subarray(0,this.Xh),a.STREAM_DRAW),e&&0<=e.ub&&"<point>"===e.name&&a.vertexAttribPointer(e.ub,4,a.FLOAT,!1,0,0));if(0<this.fc){var e=this.we;a.bindBuffer(a.ARRAY_BUFFER,this.of[this.kc]);a.bufferData(a.ARRAY_BUFFER,this.wi.subarray(0,this.fc),a.STREAM_DRAW);e&&0<=e.ub&&"<point>"!==e.name&&a.vertexAttribPointer(e.ub,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.jf[this.kc]);a.bufferData(a.ARRAY_BUFFER,this.ni.subarray(0,this.fc),a.STREAM_DRAW);e&&0<=e.Nc&&"<point>"!==e.name&&a.vertexAttribPointer(e.Nc,
2,a.FLOAT,!1,0,0)}for(var b,a=0,e=this.hc;a<e;a++)switch(b=this.Hc[a],b.type){case 1:b.Wl();break;case 2:b.cm();break;case 3:b.Zl();break;case 4:b.Yl();break;case 5:b.em();break;case 6:b.Xl();break;case 7:b.Ul();break;case 8:b.Vl();break;case 9:b.$l();break;case 10:b.am();break;case 11:b.dm()}this.Xh=this.fc=this.hc=0;this.Qa=!1;this.kc++;4<=this.kc&&(this.kc=0)}};n.prototype.df=function(a){if(a!==this.Bj){var e=this.Nb();e.type=3;this.Bj=e.gk=a;this.Qa=!1}};n.prototype.xb=function(a){if(a!==this.od){var e=
this.Nb();e.type=2;this.od=e.Qb=a;this.Qa=!1}};n.prototype.Sc=function(a,e){if(a!==this.Cj||e!==this.zj){var b=this.Nb();b.type=4;b.zb=a;b.Yb=e;this.Cj=a;this.zj=e;this.Qa=!1}};n.prototype.yk=function(){this.Sc(this.j.ONE,this.j.ONE_MINUS_SRC_ALPHA)};n.prototype.sg=function(a,e,b,c,g,k,f,n){15992<=this.fc&&this.dd();var u=this.fc,w=this.wi,s=this.ni;if(this.Qa)this.Hc[this.hc-1].Yb+=6;else{var q=this.Nb();q.type=1;q.zb=3*(u/4);q.Yb=6;this.Qa=!0}w[u]=a;s[u++]=0;w[u]=e;s[u++]=0;w[u]=b;s[u++]=1;w[u]=
c;s[u++]=0;w[u]=g;s[u++]=1;w[u]=k;s[u++]=1;w[u]=f;s[u++]=0;w[u]=n;s[u++]=1;this.fc=u};n.prototype.wd=function(a,e,b,c,g,k,f,n,u){15992<=this.fc&&this.dd();var w=this.fc,s=this.wi,q=this.ni;if(this.Qa)this.Hc[this.hc-1].Yb+=6;else{var p=this.Nb();p.type=1;p.zb=3*(w/4);p.Yb=6;this.Qa=!0}var p=u.left,d=u.top,r=u.right;u=u.bottom;s[w]=a;q[w++]=p;s[w]=e;q[w++]=d;s[w]=b;q[w++]=r;s[w]=c;q[w++]=d;s[w]=g;q[w++]=r;s[w]=k;q[w++]=u;s[w]=f;q[w++]=p;s[w]=n;q[w++]=u;this.fc=w};n.prototype.cc=function(a){if(this.Me!==
a){if(!this.ka[a]){if(0===this.Me)return;a=0}var e=this.Nb();e.type=9;this.Me=e.zb=a;this.Qa=!1}};n.prototype.$e=function(a){a=this.ka[a];return!(!a.sd&&!a.rd)};n.prototype.Zh=function(a){a=this.ka[a];return!!(a.sd||a.rd||a.Oi)};n.prototype.$n=function(a){a=this.ka[a];return 0!==a.hh||0!==a.ih};n.prototype.Wm=function(a){return this.ka[a].hh};n.prototype.Xm=function(a){return this.ka[a].ih};n.prototype.Ym=function(a,e){return this.ka[a].u[e][2]};n.prototype.pg=function(a){return this.ka[a].Ei};n.prototype.fe=
function(a,e,b,c,g,k,f,n,u,s,v,q){var p=this.ka[this.Me],d,r;if(p.un||q.length){d=this.Nb();d.type=10;d.L?Jb(this.wb,d.L):d.L=X();r=d.L;r[0]=e;r[1]=b;r[2]=c;r[3]=g;r[4]=k;r[5]=f;r[6]=n;r[7]=u;r[8]=s;r[9]=v;d.Qb=p.Te?a:null;if(q.length)for(b=d.Ck,b.length=q.length,a=0,e=q.length;a<e;a++)b[a]=q[a];this.Qa=!1}};n.prototype.clear=function(a,e,b,c){var g=this.Nb();g.type=7;g.zb=0;g.L||(g.L=X());g.L[0]=a;g.L[1]=e;g.L[2]=b;g.L[3]=c;this.Qa=!1};n.prototype.clearRect=function(a,e,b,c){if(!(0>b||0>c)){var g=
this.Nb();g.type=7;g.zb=1;g.L||(g.L=X());g.L[0]=a;g.L[1]=e;g.L[2]=b;g.L[3]=c;this.Qa=!1}};n.prototype.Zn=function(){this.dd();this.j.flush()};var c=[],s={};n.prototype.Ml=function(){c.length=0;s={}};n.prototype.Gj=function(a,e,b){var h;h=!1;e=!!e;var g=a.src+","+h+","+e+(h?",undefined":""),k=null;if("undefined"!==typeof a.src&&s.hasOwnProperty(g))return k=s[g],k.Af++,k;this.dd();var f=this.j,n=ga(a.width)&&ga(a.height),k=f.createTexture();f.bindTexture(f.TEXTURE_2D,k);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var u=f.RGBA,w=f.RGBA,v=f.UNSIGNED_BYTE;if(b&&!this.Rd)switch(b){case 1:w=u=f.RGB;break;case 2:v=f.UNSIGNED_SHORT_4_4_4_4;break;case 3:v=f.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=u=f.RGB,v=f.UNSIGNED_SHORT_5_6_5}if(!n&&h){b=document.createElement("canvas");b.width=ha(a.width);b.height=ha(a.height);var q=b.getContext("2d");q.webkitImageSmoothingEnabled=e;q.mozImageSmoothingEnabled=e;q.msImageSmoothingEnabled=e;q.imageSmoothingEnabled=e;q.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height);f.texImage2D(f.TEXTURE_2D,
0,u,w,v,b)}else f.texImage2D(f.TEXTURE_2D,0,u,w,v,a);h?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));e?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),n&&this.Si?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR_MIPMAP_LINEAR),f.generateMipmap(f.TEXTURE_2D)):f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_MIN_FILTER,f.LINEAR)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST));f.bindTexture(f.TEXTURE_2D,null);this.od=null;k.ue=a.width;k.te=a.height;k.Af=1;k.Ii=g;c.push(k);return s[g]=k};n.prototype.Jc=function(a,b,l){var h;this.dd();var g=this.j;this.Rd&&(h=!1);var k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,b,0,g.RGBA,h?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,l?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,l?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.od=null;k.ue=a;k.te=b;c.push(k);return k};n.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Af&&1<a.Af?a.Af--:(this.dd(),a===this.od&&(this.j.bindTexture(this.j.TEXTURE_2D,null),this.od=null),a===this.pd&&(this.j.activeTexture(this.j.TEXTURE1),
this.j.bindTexture(this.j.TEXTURE_2D,null),this.j.activeTexture(this.j.TEXTURE0),this.pd=null),wa(c,a),"undefined"!==typeof a.Ii&&delete s[a.Ii],this.j.deleteTexture(a)))};n.prototype.ac=function(a){if(a!==this.sk){var b=this.Nb();b.type=6;this.sk=b.Qb=a;this.Qa=!1}};Ta=n})();
(function(){function n(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function k(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var a=this;this.md=(this.Wf=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2isphonegap&&window.c2isphonegap;this.ld=!!d.dc;this.Bn="undefined"!==typeof window.AppMobi||this.ld;this.Hb=!!window.c2cocoonjs;this.rc=!!window.c2ejecta;this.Hb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.rc&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",
function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.hb=this.ld||this.Hb||this.rc;this.Rd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent);this.tj=/tizen/i.test(navigator.userAgent);this.rj=/android/i.test(navigator.userAgent)&&!this.tj&&!this.Rd;this.Gh=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Rd;this.yj=/ipad/i.test(navigator.userAgent);
this.xj=this.Gh||this.yj||this.rc;this.Jn=this.Gh&&/os\s6/i.test(navigator.userAgent);this.Vf=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.An=/amazonwebappplatform/i.test(navigator.userAgent);this.En=/firefox/i.test(navigator.userAgent);this.Gn=/safari/i.test(navigator.userAgent)&&!this.Vf&&!this.Rd;this.Lc="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Hn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.In=
!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Eh=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.vj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.uj=this.Hn||this.In||this.vj;this.Cn=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.sj=this.rj&&!this.Vf&&!this.Wf&&!this.En&&!this.An&&!this.hb;this.devicePixelRatio=1;this.Sd=this.md||this.Wf||this.Bn||this.Hb||this.rj||
this.xj||this.Eh||this.vj||this.Cn||this.tj||this.rc;this.Sd||(this.Sd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Lc||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Lc=!0);this.Dn="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=d;this.Li=document.getElementById("c2canvasdiv");this.O=this.p=this.j=null;this.lh=
"";this.Nf=!1;this.ck=this.dk=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.ld&&(window.c2runtime=this);this.Lc&&(window.ondragover=function(d){d.preventDefault();return!1},window.ondrop=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());this.sj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=d.width;
this.height=d.height;this.D=this.width;this.C=this.height;this.Gf=this.width;this.Ff=this.height;this.Oe=window.innerWidth;this.Ne=window.innerHeight;this.U=!0;this.Ke=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.ca=[];this.Jh={};this.Kb=[];this.gh={};this.nc=[];this.oe=[];this.Ig=[];this.xl=[];this.yl=[];this.Hk=null;this.Tb=new I;this.Ah=!1;this.sc=0;this.Ch=!1;this.Ma=[];this.uc=this.Ha=this.fg=this.ii="";this.hf=this.Fk=!1;this.Yg=this.Ve=this.mc=
this.Od=0;this.lf=1;this.Wd=new Ka;this.Kg=new Ka;this.ag=0;this.Vj=!0;this.mg=this.Of=this.Lf=this.ke=this.Pe=this.kh=0;this.Wg=null;this.dh=[];this.fh=[];this.Kf=-1;this.Nh=[[]];this.qi=this.jg=0;this.rg(null);this.Ae=this.Zj=this.Xe=0;this.Bg=[];this.Fg=this.tg=-1;this.$f=!0;this.hg=0;this.Je=!1;this.uo=0;this.se=null;this.sn=!1;this.Ih=0;this.$h=!1;this.ak=new I;this.Rh=new I;this.bk=new I;this.ug=[];this.Pb=new Ma([]);this.mi=new Ma([]);this.Jd=[];this.Uf={};this.Md={};this.Id={};this.ne={};
this.Gi={};this.Fj=this.eg=this.Ta=this.ib=this.Ej=this.dg=this.X=null;this.le=this.Fh=!1;this.mh=[null,null];this.fd=0;this.Oc={};this.zg=this.Yd=null;this.load();this.devicePixelRatio=(this.nd=(!this.hb||this.rc)&&this.Co&&!this.sj)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ya();var b,e=this.Ng&&!(this.Lc||this.uj||this.Eh||this.Wf||this.md);0<this.fb&&this.setSize(n(),k(),!0);try{this.im&&(this.Hb||this.rc||!this.hb)&&
(b={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.j=d.getContext("webgl",b)||d.getContext("experimental-webgl",b))}catch(p){}if(this.j){this.hb||(this.ua=document.createElement("canvas"),jQuery(this.ua).appendTo(this.canvas.parentNode),this.ua.oncontextmenu=H(!1),this.ua.onselectstart=H(!1),this.ua.width=this.Gf,this.ua.height=this.Ff,jQuery(this.ua).css({width:this.Gf+"px",height:this.Ff+"px"}),this.lk(),this.Vh=this.ua.getContext("2d"));this.p=new Ta(this.j,this.Sd);this.p.ge(d.width,
d.height);this.p.Si=0!==this.fm;this.O=null;this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.Qn();console.log("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.p.mj();a.p.ge(a.p.width,a.p.height,!0);a.ib=null;a.Ta=null;a.mh[0]=null;a.mh[1]=null;a.Rn();a.U=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var q,f,c,l,g,h;d=0;for(b=this.k.length;d<b;d++)for(f=
this.k[d],e=0,q=f.q.length;e<q;e++)l=f.q[e],l.va=this.p.th(l.id),this.le=this.le||this.p.$e(l.va);d=0;for(b=this.Kb.length;d<b;d++){g=this.Kb[d];e=0;for(q=g.q.length;e<q;e++)l=g.q[e],l.va=this.p.th(l.id);e=0;for(q=g.r.length;e<q;e++)for(h=g.r[e],f=0,c=h.q.length;f<c;f++)l=h.q[f],l.va=this.p.th(l.id),this.le=this.le||this.p.$e(l.va)}}else{if(0<this.fb&&this.ld){this.canvas=null;document.oncontextmenu=H(!1);document.onselectstart=H(!1);this.O=AppMobi.canvas.getContext("2d");try{this.O.samplingMode=
this.N?"smooth":"sharp",this.O.globalScale=1,this.O.HTML5CompatibilityMode=!0,this.O.imageSmoothingEnabled=this.N}catch(m){}0!==this.width&&0!==this.height&&(this.O.width=this.width,this.O.height=this.height)}this.O||(b=this.Hb?{antialias:!!this.N,alpha:e}:{alpha:e},this.O=d.getContext("2d",b),this.O.webkitImageSmoothingEnabled=this.N,this.O.mozImageSmoothingEnabled=this.N,this.O.msImageSmoothingEnabled=this.N,this.O.imageSmoothingEnabled=this.N);this.Vh=this.ua=null}this.Eg=function(){a.Ad(!1)};
window==window.top||this.hb||this.uj||this.Eh||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Hb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(J("Reloading for continuous preview"),this.fg="__c2_continuouspreview",this.hf=!0),this.Tn&&!this.Sd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),
jQuery(window).blur(function(){a.setSuspended(!0)})));d=function(d){Sa(d)&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur()};window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d);document.addEventListener("mousedown",d);0===this.fb&&this.nd&&1<this.devicePixelRatio&&this.setSize(this.oa,this.na,!0);this.Rk();this.pn();this.go();
this.R={}}}function c(d){d.target.result.createObjectStore("saves",{keyPath:"slot"})}function s(d,a,b,e){var p=indexedDB.open("_C2SaveStates");p.onupgradeneeded=c;p.onerror=e;p.onsuccess=function(p){p=p.target.result;p.onerror=e;p.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,data:a}).onsuccess=b}}function a(d,a,b){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=c;e.onerror=b;e.onsuccess=function(e){e=e.target.result;e.onerror=b;var p=e.transaction(["saves"]).objectStore("saves").get(d);
p.onsuccess=function(){p.result?a(p.result.data):a(null)}}}function e(){J("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function l(d){var a,b={};for(a in d)!d.hasOwnProperty(a)||d[a]instanceof I||d[a]&&"undefined"!==typeof d[a].Qp||(b[a]=d[a]);return b}b.prototype.setSize=function(d,a,b){var e=0,p=0,q=0,f=0,f=0,c=this.Jn&&this.Gn&&!navigator.standalone&&!this.hb&&
!this.md;c&&(a+=60);if(this.Oe!==d||this.Ne!==a||b){this.Oe=d;this.Ne=a;var l=this.fb,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Je)&&!this.md;if(g||0!==this.fb||b)g&&0<this.fd&&(l=this.fd),b=this.devicePixelRatio,4<=l?(q=this.oa/this.na,d/a>q?(q*=a,5===l?(f=q*b/this.oa,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),q=this.oa*f/b,f=this.na*f/b,e=(d-q)/2,p=(a-f)/2,d=q,a=f):(e=(d-q)/2,d=q)):(f=d/q,5===l?(f=f*b/this.na,1<f?f=Math.floor(f):
1>f&&(f=1/Math.ceil(1/f)),q=this.oa*f/b,f=this.na*f/b,e=(d-q)/2,p=(a-f)/2,d=q):p=(a-f)/2,a=f),g&&!this.Lc&&(p=e=0)):this.Lc&&this.Je&&0===this.Zi&&(e=Math.floor((d-this.oa)/2),p=Math.floor((a-this.na)/2),d=this.oa,a=this.na),2>l&&(this.re=b),this.nd&&this.yj&&1<b&&(1024<=d&&(d=1023),1024<=a&&(a=1023)),this.Gf=Math.round(d),this.Ff=Math.round(a),this.width=Math.round(d*b),this.height=Math.round(a*b),this.U=!0,this.cl?(this.D=this.width,this.C=this.height,this.rb=!0):this.width<this.oa&&this.height<
this.na||1===l?(this.D=this.width,this.C=this.height,this.rb=!0):(this.D=this.oa,this.C=this.na,this.rb=!1,2===l?(q=this.oa/this.na,l=this.Oe/this.Ne,l<q?this.D=this.C*l:l>q&&(this.C=this.D/l)):3===l&&(q=this.oa/this.na,l=this.Oe/this.Ne,l>q?this.D=this.C*l:l<q&&(this.C=this.D/l))),this.Li&&!this.hb&&(jQuery(this.Li).css({width:Math.round(d)+"px",height:Math.round(a)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(p)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(d)+
"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(d*b),this.canvas.height=Math.round(a*b),this.rc?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(p)+"px",this.canvas.style.width=Math.round(d)+"px",this.canvas.style.height=Math.round(a)+"px"):this.nd&&!this.hb&&jQuery(this.canvas).css({width:Math.round(d)+"px",height:Math.round(a)+"px"})),this.ua&&(this.ua.width=Math.round(d),this.ua.height=Math.round(a),jQuery(this.ua).css({width:Math.round(d)+
"px",height:Math.round(a)+"px"})),this.p&&this.p.ge(Math.round(d*b),Math.round(a*b)),this.ld&&this.O&&(this.O.width=Math.round(d),this.O.height=Math.round(a)),this.O&&(this.O.webkitImageSmoothingEnabled=this.N,this.O.mozImageSmoothingEnabled=this.N,this.O.msImageSmoothingEnabled=this.N,this.O.imageSmoothingEnabled=this.N),this.Rk(),this.hb||!c&&!this.Gh||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Rk=function(){if(this.Al&&0!==this.Uh){var d="portrait";2===this.Uh&&(d="landscape");
screen.lockOrientation?screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};b.prototype.Qn=function(){this.p.Ml();this.Fh=!0;var d,a,b;d=0;for(a=this.k.length;d<a;d++)b=this.k[d],b.ek&&b.ek()};b.prototype.Rn=function(){this.Fh=!1;var d,a,b;d=0;for(a=this.k.length;d<a;d++)b=this.k[d],b.fk&&b.fk()};b.prototype.lk=function(){if(!this.hb){var d=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Je)&&!this.md?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.ua).css(d)}};var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(d){var a;if(d&&!this.Ke)for(J("[Construct 2] Suspending"),this.Ke=!0,-1!==this.tg&&h&&h(this.tg),-1!==
this.Fg&&clearTimeout(this.Fg),d=0,a=this.Bg.length;d<a;d++)this.Bg[d](!0);else if(!d&&this.Ke){J("[Construct 2] Resuming");this.Ke=!1;this.ag=Ja();this.Pe=Ja();d=this.Ve=this.Of=0;for(a=this.Bg.length;d<a;d++)this.Bg[d](!1);this.Ad(!1)}};b.prototype.load=function(){var d=Nb();this.name=d[0];this.Yi=d[1];this.fb=d[12];this.Zi=d[12];this.oa=d[10];this.na=d[11];this.hk=this.oa/2;this.ik=this.na/2;this.hb&&!this.rc&&(4<=d[12]||0===d[12])&&(J("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Zi=this.fb=3);this.ti=d[18];this.Qe=d[19];0===this.Qe&&(this.Yd=new Image,this.Yd.src="loading-logo.png");this.Xe=d[21];this.ec=new Y(this);var a,b,e,p,q,f,c,l,g;a=0;for(b=d[2].length;a<b;a++)c=d[2][a],Ua(c),g=new c[0](this),g.yg=c[1],g.Mc=c[2],g.Yj=c[9],g.Ua&&g.Ua(),this.plugins.push(g);d=Nb();a=0;for(b=d[3].length;a<b;a++){c=d[3][a];q=c[1];g=null;e=0;for(p=this.plugins.length;e<p;e++)if(this.plugins[e]instanceof q){g=this.plugins[e];break}var h=new g.pe(g);h.name=c[0];h.F=c[2];h.yh=c[3].slice(0);
h.Do=c[3].length;h.Bl=c[4];h.Lm=c[5];h.B=c[11];h.F?(h.lg=[],h.oc=this.Ae++,h.W=null):(h.lg=null,h.oc=-1,h.W=[]);h.Mf=null;h.Pd=null;h.Ui=null;h.Jb=!1;h.Pa=null;c[6]?(h.Kk=c[6][0],h.Lk=c[6][1],h.wo=c[6][2]):(h.Kk=null,h.Lk=0,h.wo=0);h.Oa=c[7]?c[7]:null;h.index=a;h.c=[];h.Jf=[];h.Vc=[new Va(h)];h.lc=0;h.Ub=null;h.Rl=0;h.je=!0;h.Jg=Wa;h.Om=Xa;h.Vm=Ya;h.P=Za;h.bf=$a;h.qg=ab;h.ud=bb;h.Qf=cb;h.nh=db;h.rh=eb;h.Sb=fb;h.ej=gb;h.Ef=new Na(this.oa,this.na);h.uf=!0;h.vf=!1;h.R={};h.toString=hb;h.ca=[];e=0;for(p=
c[8].length;e<p;e++){l=c[8][e];var k=l[1],n=null;q=0;for(f=this.ca.length;q<f;q++)if(this.ca[q]instanceof k){n=this.ca[q];break}n||(n=new k(this),n.Qh=[],n.Ph=new I,n.Ua&&n.Ua(),this.ca.push(n),Gb.to&&n instanceof Gb.to&&(this.Hk=n));-1===n.Qh.indexOf(h)&&n.Qh.push(h);q=new n.pe(n,h);q.name=l[0];q.B=l[2];q.Ua();h.ca.push(q)}h.global=c[9];h.Bh=c[10];h.q=[];e=0;for(p=c[12].length;e<p;e++)h.q.push({id:c[12][e][0],name:c[12][e][1],va:-1,Za:!0,index:e});h.cq=c[13];this.ti&&!h.F&&!h.Bh&&g.Mc||h.Ua();h.name&&
(this.types[h.name]=h);this.k.push(h);g.yg&&(e=new g.Bc(h),e.uid=this.Xe++,e.pk=this.Zj++,e.hd=0,e.De=ib,e.toString=jb,e.Va=c[14],e.Ua(),h.c.push(e),this.Oc[e.uid.toString()]=e)}a=0;for(b=d[4].length;a<b;a++)for(q=d[4][a],f=this.k[q[0]],e=1,p=q.length;e<p;e++)c=this.k[q[e]],c.W.push(f),f.lg.push(c);a=0;for(b=d[27].length;a<b;a++){q=d[27][a];f=[];e=0;for(p=q.length;e<p;e++)f.push(this.k[q[e]]);e=0;for(p=f.length;e<p;e++)f[e].Jb=!0,f[e].Pa=f}if(0<this.Ae)for(a=0,b=this.k.length;a<b;a++)if(c=this.k[a],
!c.F&&c.W.length){c.Mf=Array(this.Ae);c.Pd=Array(this.Ae);c.Ui=Array(this.Ae);h=[];e=n=k=l=0;for(p=c.W.length;e<p;e++)for(g=c.W[e],c.Mf[g.oc]=l,l+=g.Do,c.Pd[g.oc]=k,k+=g.Bl,c.Ui[g.oc]=n,n+=g.Lm,q=0,f=g.q.length;q<f;q++)h.push(pa({},g.q[q]));c.q=h.concat(c.q);e=0;for(p=c.q.length;e<p;e++)c.q[e].index=e}a=0;for(b=d[5].length;a<b;a++)c=d[5][a],e=new kb(this,c),this.Jh[e.name]=e,this.Kb.push(e);a=0;for(b=d[6].length;a<b;a++)c=d[6][a],e=new lb(this,c),this.gh[e.name]=e,this.nc.push(e);a=0;for(b=this.nc.length;a<
b;a++)this.nc[a].ba();a=0;for(b=this.nc.length;a<b;a++)this.nc[a].Zk();a=0;for(b=this.Ig.length;a<b;a++)this.Ig[a].ba();this.Ig.length=0;this.zl=d[7];this.ee=d[9];this.re=1;this.im=d[13];this.N=d[14];this.Ng=d[15];this.Co=d[17];this.Uh=d[20];this.Al=0<this.Uh;this.Tn=d[22];this.rb=this.cl=d[23];this.fm=d[24];this.Yn=d[25];this.Ag=Date.now()};var g=!1;b.prototype.Eo=function(d){d.onerror=function(a){g=d.El=!0;console&&console.error&&console.error("Error loading image '"+d.src+"': ",a)};this.oe.push(d)};
b.prototype.Km=function(d){var a,e;a=0;for(e=this.oe.length;a<e;a++)if(this.oe[a].Ol===d)return this.oe[a];return null};var m=0,f=!1;b.prototype.pn=function(){this.se&&(m=this.se.$p(this.zl))};b.prototype.Fi=function(){var d=m,a=0,e=0,b=!0,p,q,e=0;for(p=this.oe.length;e<p;e++){q=this.oe[e];var c=q.Nl;if(!c||0>=c)c=5E4;d+=c;!q.complete&&!q.loaded||q.El?b=!1:a+=c}b&&this.Yn&&this.se&&(f||(this.se.aq(),f=!0),e=this.se.Up(),a+=e,e<m&&(b=!1));this.vd=0==d?0:a/d;return b};b.prototype.go=function(){if(this.O||
this.p){var d=this.O||this.Vh;this.ua&&this.lk();this.vd=0;this.Dj=-1;if(this.Fi())this.qn();else{var a=Date.now()-this.Ag;if(d){var e=this.width,b=this.height,p=this.devicePixelRatio;this.ua&&(e=this.Gf,b=this.Ff,p=1);if(3!==this.Qe&&(this.Hb||500<=a&&this.Dj!=this.vd)){d.clearRect(0,0,e,b);var a=e/2,b=b/2,e=0===this.Qe&&this.Yd.complete,q=40*p,f=0,c=80*p,l;e&&(c=this.Yd.width*p,l=this.Yd.height*p,q=c/2,f=l/2,d.drawImage(this.Yd,P(a-q),P(b-f),c,l));1>=this.Qe?(a=P(a-q)+0.5,b=P(b+(f+(e?12*p:0)))+
0.5,d.fillStyle=g?"red":"DodgerBlue",d.fillRect(a,b,Math.floor(c*this.vd),6*p),d.strokeStyle="black",d.strokeRect(a,b,c,6*p),d.strokeStyle="white",d.strokeRect(a-1*p,b-1*p,c+2*p,8*p)):2===this.Qe&&(d.font=this.rc?"12pt ArialMT":"12pt Arial",d.fillStyle=g?"#f00":"#999",d.bq="middle",p=Math.round(100*this.vd)+"%",e=d.measureText?d.measureText(p):null,d.fillText(p,a-(e?e.width:0)/2,b))}this.Dj=this.vd}setTimeout(function(d){return function(){d.go()}}(this),this.Hb?10:100)}}};b.prototype.qn=function(){this.ua&&
(this.canvas.parentNode.removeChild(this.ua),this.ua=this.Vh=null);this.Ag=Date.now();this.Pe=Ja();var d,a,e;if(this.ti)for(d=0,a=this.k.length;d<a;d++)e=this.k[d],e.F||e.Bh||!e.Ia.Mc||e.Ua();else this.$f=!1;d=0;for(a=this.Kb.length;d<a;d++)this.Kb[d].Pl();2<=this.fb&&(d=this.oa/this.na,a=this.width/this.height,this.re=2!==this.fb&&a>d||2===this.fb&&a<d?this.height/this.na:this.width/this.oa);this.Yi?this.Jh[this.Yi].li():this.Kb[0].li();this.ti||(this.hg=1,this.trigger(Y.prototype.T.Ai,null));navigator.splashscreen&&
navigator.splashscreen.hide&&navigator.splashscreen.hide();d=0;for(a=this.k.length;d<a;d++)e=this.k[d],e.Pn&&e.Pn();this.Ad(!1);this.ld&&AppMobi.webview.execute("onGameReady();")};var x=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Ad=function(d){if(this.X){var a=Ja();if(this.sn&&this.$h&&29>a-this.Ih)this.$h=!1,this.Ih=a,x?this.tg=x(this.Eg,this.canvas):this.Fg=setTimeout(this.Eg,
this.Sd?1:16);else{this.$h=!0;this.Ih=a;var e=this.fb,b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.md;(b||this.Je)&&0<this.fd&&(e=this.fd);0<e&&(!this.xj||window.self!==window.top)&&(e=window.innerHeight,this.Oe===window.innerWidth&&this.Ne===e||this.setSize(n(),k()));this.hb||(b?(this.Nf||(this.lh=jQuery(this.canvas).css("margin")||"0",this.Nf=!0),this.Vf||this.Lc||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-
this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Nf?(this.Vf||this.Lc||jQuery(this.canvas).css("margin",this.lh),this.lh="",this.Nf=!1,0===this.fb&&this.setSize(Math.round(this.dk/this.devicePixelRatio),Math.round(this.ck/this.devicePixelRatio),!0)):(this.dk=this.width,this.ck=this.height));this.$f&&(b=this.Fi(),this.hg=this.vd,b&&(this.$f=!1,this.vd=1,this.trigger(Y.prototype.T.Ai,null)));this.Nn();!this.U&&!this.Hb||
this.Fh||this.hf||d||(this.U=!1,this.p?this.Vb():this.cd(),this.zg&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.zg[0],this.zg[1]),this.trigger(Y.prototype.T.jl,null)),this.zg=null));this.Vp||(this.ke++,this.Lf++,this.Of++);this.Ve+=Ja()-a;this.Ke||d||(x?this.tg=x(this.Eg,this.canvas):this.Fg=setTimeout(this.Eg,this.Sd?1:16))}}};b.prototype.Nn=function(){var d,a,e,b,p,q,f,c,l;d=Ja();1E3<=d-this.Pe&&(this.Pe+=1E3,this.kh=this.Of,this.Of=0,this.Yg=this.Ve,this.Ve=0);this.Vj&&(0!==
this.ag&&(a=d-this.ag,0!==a||this.Dn?(this.mc=a/1E3,0.5<this.mc?this.mc=0:0.1<this.mc&&(this.mc=0.1)):(10<=this.dq&&(this.Vj=!1),this.mc=1/60)),this.ag=d);this.Od=this.mc*this.lf;this.Wd.add(this.Od);this.Kg.add(this.mc);d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Je)&&!this.md;2<=this.fb||d&&0<this.fd?(a=this.oa/this.na,e=this.width/this.height,b=this.fb,d&&0<this.fd&&(b=this.fd),this.re=2!==b&&e>a||2===b&&e<a?this.height/this.na:
this.width/this.oa,this.X&&(this.X.wk(this.X.scrollX),this.X.xk(this.X.scrollY))):this.re=this.nd?this.devicePixelRatio:1;this.ya();this.sc++;this.ec.jo();this.sc--;this.ya();this.sc++;e=this.ak.Cd();d=0;for(a=e.length;d<a;d++)e[d].Wp();d=0;for(a=this.k.length;d<a;d++)if(f=this.k[d],!f.F&&(f.ca.length||f.W.length))for(e=0,b=f.c.length;e<b;e++)for(c=f.c[e],p=0,q=c.A.length;p<q;p++)c.A[p].Ad();d=0;for(a=this.k.length;d<a;d++)if(f=this.k[d],!f.F&&(f.ca.length||f.W.length))for(e=0,b=f.c.length;e<b;e++)for(c=
f.c[e],p=0,q=c.A.length;p<q;p++)l=c.A[p],l.Xn&&l.Xn();e=this.Rh.Cd();d=0;for(a=e.length;d<a;d++)e[d].Ad();this.sc--;this.tn();for(d=0;this.Wg&&10>d++;)this.Ri(this.Wg);d=0;for(a=this.nc.length;d<a;d++)this.nc[d].uh=!1;this.X.ye&&this.X.ye.ea();this.ug.length=0;this.sc++;d=0;for(a=this.k.length;d<a;d++)if(f=this.k[d],!f.F&&(f.ca.length||f.W.length))for(e=0,b=f.c.length;e<b;e++)for(c=f.c[e],p=0,q=c.A.length;p<q;p++)l=c.A[p],l.Mk&&l.Mk();e=this.bk.Cd();d=0;for(a=e.length;d<a;d++)e[d].Mk();this.sc--};
b.prototype.Ri=function(d){var a=this.X;this.X.vo();var e,b,p,q,f,c,l;if(this.p)for(e=0,b=this.k.length;e<b;e++)f=this.k[e],f.F||!f.Vk||f.global&&0!==f.c.length||-1!==d.He.indexOf(f)||f.Vk();a==d&&(this.ec.Xa.length=0);d.li();e=0;for(b=this.k.length;e<b;e++)if(f=this.k[e],f.global||f.Ia.yg)for(d=0,a=f.c.length;d<a;d++)if(c=f.c[d],c.Th&&c.Th(),c.A)for(p=0,q=c.A.length;p<q;p++)l=c.A[p],l.Th&&l.Th();this.U=!0;this.ya()};b.prototype.Nk=function(d){this.Rh.add(d)};b.prototype.ph=function(d){return d&&
-1!==d.We?this.mc*d.We:this.Od};b.prototype.cd=function(){this.X.cd(this.O);this.ld&&this.O.present()};b.prototype.Vb=function(){this.X.Vb(this.p);this.p.Zn()};b.prototype.ul=function(d){d&&this.dh.push(d)};b.prototype.hj=function(d){d=d.toString();return this.Oc.hasOwnProperty(d)?this.Oc[d]:null};b.prototype.Ed=function(d){var a,e;if(!this.Tb.contains(d)){this.Tb.add(d);if(d.Jb)for(a=0,e=d.siblings.length;a<e;a++)this.Ed(d.siblings[a]);this.Ah&&this.Tb.me.push(d);this.sc++;this.trigger(Object.getPrototypeOf(d.type.Ia).T.ll,
d);this.sc--}};b.prototype.ya=function(){var d,a,e,b,p,f,q,c,l,g;this.Ah=!0;b=0;for(f=this.Ma.length;b<f;b++)for(d=this.Ma[b],a=d.type,a.c.push(d),p=0,q=a.W.length;p<q;p++)a.W[p].c.push(d),a.W[p].je=!0;this.Ma.length=0;f=this.Tb.Cd();for(b=0;b<f.length;b++){d=f[b];a=d.type;e=a.c;p=0;for(q=this.dh.length;p<q;p++)this.dh[p](d);wa(e,d);0===e.length&&(a.vf=!1);d.Df&&a.Ef.update(d,d.Df,null);d.d&&(qa(d.d.c,d.gb()),d.d.Ya=!0);p=0;for(q=a.W.length;p<q;p++)wa(a.W[p].c,d),a.W[p].je=!0;if(d.A)for(p=0,q=d.A.length;p<
q;p++)e=d.A[p],e.Sh&&e.Sh(),e.ic.Ph.remove(d);this.ak.remove(d);this.Rh.remove(d);this.bk.remove(d);p=0;for(q=this.ec.Xa.length;p<q;p++)if(l=this.ec.Xa[p],l.Wa.hasOwnProperty(a.index)&&wa(l.Wa[a.index].kd,d),!a.F)for(e=0,c=a.W.length;e<c;e++)g=a.W[e],l.Wa.hasOwnProperty(g.index)&&wa(l.Wa[g.index].kd,d);d.Sh&&d.Sh();this.Oc.hasOwnProperty(d.uid.toString())&&delete this.Oc[d.uid.toString()];this.mg--;64>a.Jf.length&&a.Jf.push(d);a.je=!0}this.Tb.Ib()||(this.U=!0);this.Tb.clear();this.Ah=!1};var u=[];
b.prototype.ad=function(d,a,e,b,p,q){var f,c,l,g;if(!d)return null;var h=this.k[d[1]],k=h.Ia.Mc;if(this.$f&&k&&!h.Bh||k&&!this.p&&11===d[0][11])return null;var n=a;k||(a=null);var m;h.Jf.length?(m=h.Jf.pop(),m.Zb=!0,h.Ia.Bc.call(m,h)):(m=new h.Ia.Bc(h),m.Zb=!1);m.uid=e&&!q?d[2]:this.Xe++;this.Oc[m.uid.toString()]=m;m.pk=this.Zj++;m.hd=h.c.length;f=0;for(c=this.Ma.length;f<c;++f)this.Ma[f].type===h&&m.hd++;m.De=ib;l=d[3];if(m.Zb)Ia(m.R);else{m.R={};if("undefined"!==typeof cr_is_preview)for(m.pj=[],
m.pj.length=l.length,f=0,c=l.length;f<c;f++)m.pj[f]=l[f][1];m.ha=[];m.ha.length=l.length}f=0;for(c=l.length;f<c;f++)m.ha[f]=l[f][0];if(k){var s=d[0];m.x=da(b)?s[0]:b;m.y=da(p)?s[1]:p;m.z=s[2];m.width=s[3];m.height=s[4];m.depth=s[5];m.i=s[6];m.opacity=s[7];m.Ra=s[8];m.Sa=s[9];m.La=s[10];f=s[11];!this.p&&h.q.length&&(m.La=f);m.ve=Oa(m.La);this.j&&Pa(m,m.La,this.j);if(m.Zb){f=0;for(c=s[12].length;f<c;f++)for(l=0,g=s[12][f].length;l<g;l++)m.aa[f][l]=s[12][f][l];m.fa.set(0,0,0,0);m.Df.set(0,0,-1,-1);m.nb.ef(m.fa);
m.Rg.length=0}else{m.aa=s[12].slice(0);f=0;for(c=m.aa.length;f<c;f++)m.aa[f]=s[12][f].slice(0);m.H=[];m.Cc=[];m.Cc.length=h.q.length;m.fa=new na(0,0,0,0);m.Df=new na(0,0,-1,-1);m.nb=new oa;m.Rg=[];m.M=mb;m.Pp=nb;m.ob=ob;m.qa=pb;m.al=qb;m.gb=rb}m.kf=!1;m.zo=0;m.yo=0;m.xo=null;14===s.length&&(m.kf=!0,m.zo=s[13][0],m.yo=s[13][1],m.xo=s[13][2]);f=0;for(c=h.q.length;f<c;f++)m.Cc[f]=!0;m.zc=sb;m.zc();m.bl=!!m.H.length;m.Qg=!0;m.Tg=!0;h.uf=!0;m.visible=!0;m.We=-1;m.d=a;m.Dd=a.c.length;"undefined"===typeof m.I&&
(m.I=null);this.U=m.jc=!0}m.toString=jb;var x;f=u.length=0;for(c=h.W.length;f<c;f++)u.push.apply(u,h.W[f].ca);u.push.apply(u,h.ca);if(m.Zb)for(f=0,c=u.length;f<c;f++){var w=u[f];x=m.A[f];x.Zb=!0;w.ic.Bc.call(x,w,m);s=d[4][f];l=0;for(g=s.length;l<g;l++)x.Va[l]=s[l];x.Ua();w.ic.Ph.add(m)}else for(m.A=[],f=0,c=u.length;f<c;f++)w=u[f],x=new w.ic.Bc(w,m),x.Zb=!1,x.Va=d[4][f].slice(0),x.Ua(),m.A.push(x),w.ic.Ph.add(m);s=d[5];if(m.Zb)for(f=0,c=s.length;f<c;f++)m.Va[f]=s[f];else m.Va=s.slice(0);this.Ma.push(m);
a&&(a.c.push(m),1!==a.wc||1!==a.xc)&&(h.vf=!0);this.mg++;if(h.Jb){if(m.Jb=!0,m.Zb?m.siblings.length=0:m.siblings=[],!e&&!q){f=0;for(c=h.Pa.length;f<c;f++)if(h.Pa[f]!==h){if(!h.Pa[f].Ub)return null;m.siblings.push(this.ad(h.Pa[f].Ub,n,!1,k?m.x:b,k?m.y:p,!0))}f=0;for(c=m.siblings.length;f<c;f++)for(m.siblings[f].siblings.push(m),l=0;l<c;l++)f!==l&&m.siblings[f].siblings.push(m.siblings[l])}}else m.Jb=!1,m.siblings=null;m.Ua();f=0;for(c=m.A.length;f<c;f++)m.A[f].Wn&&m.A[f].Wn();return m};b.prototype.Sm=
function(d){var a,e;a=0;for(e=this.X.r.length;a<e;a++){var b=this.X.r[a];if(Ra(b.name,d))return b}return null};b.prototype.Tm=function(d){d=P(d);0>d&&(d=0);d>=this.X.r.length&&(d=this.X.r.length-1);return this.X.r[d]};b.prototype.Xg=function(d){var a,e;a=0;for(e=d.length;a<e;a++)d[a].P().Y=!0};b.prototype.bf=function(d){var a,e;a=0;for(e=d.length;a<e;a++)d[a].bf()};b.prototype.qg=function(d){var a,e;a=0;for(e=d.length;a<e;a++)d[a].qg()};b.prototype.ud=function(d){var a,e;a=0;for(e=d.length;a<e;a++)d[a].ud()};
b.prototype.Xk=function(d){if(d.uf){var a,e,b=d.c;a=0;for(e=b.length;a<e;++a)b[a].al();b=this.Ma;a=0;for(e=b.length;a<e;++a)b[a].type===d&&b[a].al();d.uf=!1}};b.prototype.aj=function(d,a,e,b){var f,p,c=d?1!==d.wc||1!==d.xc:!1;if(a.F)for(d=0,f=a.lg.length;d<f;++d)p=a.lg[d],c||p.vf?sa(b,p.c):(this.Xk(p),p.Ef.qk(e,b));else c||a.vf?sa(b,a.c):(this.Xk(a),a.Ef.qk(e,b))};b.prototype.$m=function(d,a,e,b){var f,p;f=0;for(p=a.length;f<p;++f)this.aj(d,a[f],e,b)};b.prototype.Zm=function(d,a,e){var b=this.Hk;
b&&this.$m(d,b.Qh,a,e)};b.prototype.yd=function(d,a){if(!(d&&a&&d!==a&&d.jc&&a.jc))return!1;d.qa();a.qa();var e=d.d,b=a.d,f,p,c,q,l,g,h,m;if(e===b||e.wc===b.wc&&b.xc===b.xc&&e.scale===b.scale&&e.i===b.i&&e.pf===b.pf){if(!d.fa.yn(a.fa)||!d.nb.qj(a.nb)||d.kf&&a.kf)return!1;if(d.kf)return this.Jk(d,a);if(a.kf)return this.Jk(a,d);h=d.I&&!d.I.Td();f=a.I&&!a.I.Td();if(!h&&!f)return!0;h?(d.I.Kd(d.width,d.height,d.i),h=d.I):(this.Pb.he(d.nb,d.x,d.y,d.width,d.height),h=this.Pb);f?(a.I.Kd(a.width,a.height,
a.i),m=a.I):(this.Pb.he(a.nb,a.x,a.y,a.width,a.height),m=this.Pb);return h.Ie(m,a.x-d.x,a.y-d.y)}h=d.I&&!d.I.Td();f=a.I&&!a.I.Td();h?(d.I.Kd(d.width,d.height,d.i),this.Pb.Ak(d.I)):this.Pb.he(d.nb,d.x,d.y,d.width,d.height);h=this.Pb;f?(a.I.Kd(a.width,a.height,a.i),this.mi.Ak(a.I)):this.mi.he(a.nb,a.x,a.y,a.width,a.height);m=this.mi;f=0;for(p=h.Mb;f<p;f++)c=2*f,q=c+1,l=h.ia[c],g=h.ia[q],h.ia[c]=e.Ga(l+d.x,g+d.y,!0),h.ia[q]=e.Ga(l+d.x,g+d.y,!1);h.qa();f=0;for(p=m.Mb;f<p;f++)c=2*f,q=c+1,l=m.ia[c],g=m.ia[q],
m.ia[c]=b.Ga(l+a.x,g+a.y,!0),m.ia[q]=b.Ga(l+a.x,g+a.y,!1);m.qa();return h.Ie(m,0,0)};var w=new oa;new na(0,0,0,0);var v=[];b.prototype.Jk=function(d,a){var e,b,f,p,c=a.fa,q=d.x,l=d.y;d.Rp(c,v);var g=a.I&&!a.I.Td();e=0;for(b=v.length;e<b;++e)if(f=v[e],p=f.Xp,c.zn(p,q,l)&&(w.ef(p),w.offset(q,l),w.qj(a.nb)))if(g)if(a.I.Kd(a.width,a.height,a.i),f.Yh){if(f.Yh.Ie(a.I,a.x-(q+p.left),a.y-(l+p.top)))return v.length=0,!0}else{if(this.Pb.he(w,0,0,p.right-p.left,p.bottom-p.top),this.Pb.Ie(a.I,a.x,a.y))return v.length=
0,!0}else if(f.Yh){if(this.Pb.he(a.nb,0,0,a.width,a.height),f.Yh.Ie(this.Pb,-(q+p.left),-(l+p.top)))return v.length=0,!0}else return v.length=0,!0;v.length=0;return!1};b.prototype.Sk=function(d,a){if(!a)return!1;var e,b,f,p,c;e=0;for(b=d.ca.length;e<b;e++)if(d.ca[e].ic instanceof a)return!0;if(!d.F)for(e=0,b=d.W.length;e<b;e++)for(c=d.W[e],f=0,p=c.ca.length;f<p;f++)if(c.ca[f].ic instanceof a)return!0;return!1};b.prototype.Tk=function(d){return this.Sk(d,Gb.lp)};b.prototype.ri=function(d){return this.Sk(d,
Gb.mp)};var q=[];b.prototype.zd=function(d){var a,e,b;d.qa();this.Zm(d.d,d.fa,q);a=0;for(e=q.length;a<e;++a)if(b=q[a],b.R.solidEnabled&&this.yd(d,b))return q.length=0,b;q.length=0;return null};b.prototype.co=function(d,a,e,b){b=b||50;var f=d.x,p=d.y,c,q=null,l=null;for(c=0;c<b;c++)if(d.x=f+a*c,d.y=p+e*c,d.M(),!this.yd(d,q)&&((q=this.zd(d))&&(l=q),!q&&!q))return l&&this.ao(d,a,e,l),!0;d.x=f;d.y=p;d.M();return!1};b.prototype.ao=function(d,a,e,b){var f=2,p,c=!1;p=!1;for(var q=d.x,l=d.y;16>=f;)p=1/f,
f*=2,d.x+=a*p*(c?1:-1),d.y+=e*p*(c?1:-1),d.M(),this.yd(d,b)?p=c=!0:(p=c=!1,q=d.x,l=d.y);p&&(d.x=q,d.y=l,d.M())};b.prototype.eo=function(d){var a=0,e=d.x,b=d.y,f=0,p=0,c=0,q=this.zd(d);if(q){for(;100>=a;){switch(f){case 0:p=0;c=-1;a++;break;case 1:p=1;c=-1;break;case 2:p=1;c=0;break;case 3:c=p=1;break;case 4:p=0;c=1;break;case 5:p=-1;c=1;break;case 6:p=-1;c=0;break;case 7:c=p=-1}f=(f+1)%8;d.x=P(e+p*a);d.y=P(b+c*a);d.M();if(!this.yd(d,q)&&(q=this.zd(d),!q))return}d.x=e;d.y=b;d.M()}};b.prototype.fo=
function(d,a){d.jc&&a.jc&&this.ug.push([d,a])};b.prototype.Kl=function(d,a){var e,b,f;e=0;for(b=this.ug.length;e<b;e++)if(f=this.ug[e],f[0]==d&&f[1]==a||f[0]==a&&f[1]==d)return!0;return!1};b.prototype.Gl=function(d,a,e){var b=d.x,f=d.y,p=ia(10,Fa(a,e,b,f)),c=Ba(a,e,b,f),q=this.zd(d);if(!q)return S(c+ka);var l=q,g,h,m,k,n=Q(5);for(g=1;36>g;g++)if(h=c-g*n,d.x=a+Math.cos(h)*p,d.y=e+Math.sin(h)*p,d.M(),!this.yd(d,l)&&(l=this.zd(d),!l)){m=h;break}36===g&&(m=S(c+ka));l=q;for(g=1;36>g;g++)if(h=c+g*n,d.x=
a+Math.cos(h)*p,d.y=e+Math.sin(h)*p,d.M(),!this.yd(d,l)&&(l=this.zd(d),!l)){k=h;break}36===g&&(k=S(c+ka));d.x=b;d.y=f;d.M();if(k===m)return k;d=Ca(k,m)/2;d=Ea(k,m)?S(m+d+ka):S(k+d);m=Math.cos(c);c=Math.sin(c);k=Math.cos(d);d=Math.sin(d);a=m*k+c*d;return Ba(0,0,m-2*a*k,c-2*a*d)};var p=-1;b.prototype.trigger=function(d,a,e){if(!this.X)return!1;var b=this.X.ye;if(!b)return!1;var f=!1,c,q,l;p++;var g=b.bh;q=0;for(l=g.length;q<l;++q)c=this.Pk(d,a,g[q],e),f=f||c;c=this.Pk(d,a,b,e);p--;return f||c};b.prototype.Pk=
function(d,a,e,b){var f=!1,p,c,q,l;if(a)for(q=this.pi(d,a,a.type.name,e,b),f=f||q,l=a.type.W,p=0,c=l.length;p<c;++p)q=this.pi(d,a,l[p].name,e,b),f=f||q;else q=this.pi(d,a,"system",e,b),f=f||q;return f};b.prototype.pi=function(a,e,b,f,p){var c,q=!1,l=!1,l="undefined"!==typeof p,g=(l?f.Wi:f.Qk)[b];if(!g)return q;var h=null;f=0;for(c=g.length;f<c;++f)if(g[f].method==a){h=g[f].ze;break}if(!h)return q;a=l?h[p]:h;if(!a)return null;f=0;for(c=a.length;f<c;f++)p=a[f][0],l=a[f][1],l=this.Im(e,b,p,l),q=q||l;
return q};b.prototype.Im=function(a,e,b,f){var c,q,l=!1;this.qi++;var g=this.Fa().qb;g&&this.bf(g.Tc);var h=1<this.qi;this.bf(b.Tc);h&&this.bo();var m=this.rg(b);m.qb=b;a&&(c=this.types[e].P(),c.Y=!1,c.c.length=1,c.c[0]=a,this.types[e].Sb());a=!0;if(b.parent){e=m.Ik;for(c=b.parent;c;)e.push(c),c=c.parent;e.reverse();c=0;for(q=e.length;c<q;c++)if(!e[c].lo()){a=!1;break}}a&&(this.Lf++,b.Lb?b.ko(f):b.ea(),l=l||m.qd);this.og();h&&this.Vn();this.ud(b.Tc);g&&this.ud(g.Tc);0!==this.sc||0!==p||this.Ch||this.Tb.Ib()&&
!this.Ma.length||this.ya();this.qi--;return l};b.prototype.bj=function(){var a=this.Fa();return a.qb.la[a.ga]};b.prototype.bo=function(){this.jg++;this.jg>=this.Nh.length&&this.Nh.push([])};b.prototype.Vn=function(){this.jg--};b.prototype.cj=function(){return this.Nh[this.jg]};b.prototype.rg=function(a){this.Kf++;this.Kf>=this.fh.length&&this.fh.push(new tb);var e=this.Fa();e.reset(a);return e};b.prototype.og=function(){this.Kf--};b.prototype.Fa=function(){return this.fh[this.Kf]};b.prototype.dj=
function(a,e){for(var b,f,p,c,q,l;e;){b=0;for(f=e.Ab.length;b<f;b++)if(l=e.Ab[b],l instanceof ub&&Ra(a,l.name))return l;e=e.parent}b=0;for(f=this.nc.length;b<f;b++)for(q=this.nc[b],p=0,c=q.Kc.length;p<c;p++)if(l=q.Kc[p],l instanceof ub&&Ra(a,l.name))return l;return null};b.prototype.fj=function(a){var e,b;e=0;for(b=this.Kb.length;e<b;e++)if(this.Kb[e].B===a)return this.Kb[e];return null};b.prototype.Sf=function(a){var e,b;e=0;for(b=this.k.length;e<b;e++)if(this.k[e].B===a)return this.k[e];return null};
b.prototype.Pm=function(a){var e,b;e=0;for(b=this.Jd.length;e<b;e++)if(this.Jd[e].B===a)return this.Jd[e];return null};b.prototype.tn=function(){var d=this,b=this.ii,f=this.uc,p=this.fg,c=!1;this.Fk&&(c=!0,b="__c2_continuouspreview",this.Fk=!1);if(b.length){this.ya();f=this.po();if(window.indexedDB&&!this.Hb)s(b,f,function(){J("Saved state to IndexedDB storage ("+f.length+" bytes)");d.uc=f;d.trigger(Y.prototype.T.Mg,null);d.uc="";c&&e()},function(a){try{localStorage.setItem("__c2save_"+b,f),J("Saved state to WebStorage ("+
f.length+" bytes)"),d.uc=f,d.trigger(Y.prototype.T.Mg,null),d.uc="",c&&e()}catch(p){J("Failed to save game state: "+a+"; "+p)}});else try{localStorage.setItem("__c2save_"+b,f),J("Saved state to WebStorage ("+f.length+" bytes)"),d.uc=f,this.trigger(Y.prototype.T.Mg,null),d.uc="",c&&e()}catch(q){J("Error saving to WebStorage: "+q)}this.Ha=this.fg=this.ii=""}p.length&&(window.indexedDB&&!this.Hb?a(p,function(a){a?(d.Ha=a,J("Loaded state from IndexedDB storage ("+d.Ha.length+" bytes)")):(d.Ha=localStorage.getItem("__c2save_"+
p)||"",J("Loaded state from WebStorage ("+d.Ha.length+" bytes)"));d.hf=!1;d.Ha.length||d.trigger(Y.prototype.T.Lg,null)},function(){d.Ha=localStorage.getItem("__c2save_"+p)||"";J("Loaded state from WebStorage ("+d.Ha.length+" bytes)");d.hf=!1;d.Ha.length||d.trigger(Y.prototype.T.Lg,null)}):(this.Ha=localStorage.getItem("__c2save_"+p)||"",J("Loaded state from WebStorage ("+this.Ha.length+" bytes)"),this.hf=!1,d.Ha.length||d.trigger(Y.prototype.T.Lg,null)),this.ii=this.fg="");this.Ha.length&&(this.ya(),
this.Ln(this.Ha),this.uc=this.Ha,this.trigger(Y.prototype.T.ol,null),this.Ha=this.uc="")};b.prototype.po=function(){var a,e,b,f,p,c,q,g={c2save:!0,version:1,rt:{time:this.Wd.Ca,walltime:this.Kg.Ca,timescale:this.lf,tickcount:this.ke,execcount:this.Lf,next_uid:this.Xe,running_layout:this.X.B,start_time_offset:Date.now()-this.Ag},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(e=this.k.length;a<e;a++)if(p=this.k[a],!p.F&&!this.Tk(p)){c={instances:[]};Ha(p.R)&&(c.ex=l(p.R));b=
0;for(f=p.c.length;b<f;b++)c.instances.push(this.hi(p.c[b]));g.types[p.B.toString()]=c}a=0;for(e=this.Kb.length;a<e;a++)b=this.Kb[a],g.layouts[b.B.toString()]=b.Ob();f=g.events.groups;a=0;for(e=this.Jd.length;a<e;a++)b=this.Jd[a],f[b.B.toString()]=this.Uf[b.Ee].Tf;e=g.events.cnds;for(q in this.Md)this.Md.hasOwnProperty(q)&&(a=this.Md[q],Ha(a.R)&&(e[q]={ex:l(a.R)}));e=g.events.acts;for(q in this.Id)this.Id.hasOwnProperty(q)&&(a=this.Id[q],Ha(a.R)&&(e[q]={ex:a.R}));e=g.events.vars;for(q in this.ne)this.ne.hasOwnProperty(q)&&
(a=this.ne[q],a.Xf||a.parent&&!a.Le||(e[q]=a.data));g.system=this.ec.Ob();return JSON.stringify(g)};b.prototype.rk=function(){var a,e,b,f,p,c;this.Oc={};a=0;for(e=this.k.length;a<e;a++)if(b=this.k[a],!b.F)for(f=0,p=b.c.length;f<p;f++)c=b.c[f],this.Oc[c.uid.toString()]=c};b.prototype.Ln=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var e=a.rt;this.Wd.reset();this.Wd.Ca=e.time;this.Kg.reset();this.Kg.Ca=e.walltime||0;this.lf=e.timescale;this.ke=e.tickcount;this.Ag=Date.now()-e.start_time_offset;
var b=e.running_layout;if(b!==this.X.B)if(b=this.fj(b))this.Ri(b);else return;var f,p,c,q,l,g,h;g=a.types;for(p in g)if(g.hasOwnProperty(p)&&(q=this.Sf(parseInt(p,10)))&&!q.F&&!this.Tk(q)){g[p].ex?q.R=g[p].ex:Ia(q.R);l=q.c;c=g[p].instances;b=0;for(f=ja(l.length,c.length);b<f;b++)this.gg(l[b],c[b]);b=c.length;for(f=l.length;b<f;b++)this.Ed(l[b]);b=l.length;for(f=c.length;b<f;b++){l=null;if(q.Ia.Mc&&(l=this.X.Rf(c[b].w.l),!l))continue;l=this.ad(q.Ub,l,!1,0,0,!0);this.gg(l,c[b])}q.je=!0}this.ya();this.rk();
f=a.layouts;for(p in f)f.hasOwnProperty(p)&&(b=this.fj(parseInt(p,10)))&&b.vc(f[p]);f=a.events.groups;for(p in f)f.hasOwnProperty(p)&&(b=this.Pm(parseInt(p,10)))&&this.Uf[b.Ee]&&(this.Uf[b.Ee].Tf=f[p]);b=a.events.cnds;for(p in b)b.hasOwnProperty(p)&&this.Md.hasOwnProperty(p)&&(this.Md[p].R=b[p].ex);b=a.events.acts;for(p in b)b.hasOwnProperty(p)&&this.Id.hasOwnProperty(p)&&(this.Id[p].R=b[p].ex);b=a.events.vars;for(p in b)b.hasOwnProperty(p)&&this.ne.hasOwnProperty(p)&&(this.ne[p].data=b[p]);this.Xe=
e.next_uid;this.ec.vc(a.system);b=0;for(f=this.k.length;b<f;b++)if(q=this.k[b],!q.F)for(p=0,a=q.c.length;p<a;p++){l=q.c[p];if(q.Jb)for(g=l.De(),e=l.siblings.length=0,c=q.Pa.length;e<c;e++)h=q.Pa[e],q!==h&&l.siblings.push(h.c[g]);l.Yc&&l.Yc();if(l.A)for(e=0,c=l.A.length;e<c;e++)g=l.A[e],g.Yc&&g.Yc()}this.U=!0}};b.prototype.hi=function(a,e){var b,f,p,c,q;c=a.type;p=c.Ia;var g={};e?g.c2=!0:g.uid=a.uid;Ha(a.R)&&(g.ex=l(a.R));if(a.ha&&a.ha.length)for(g.ivs={},b=0,f=a.ha.length;b<f;b++)g.ivs[a.type.yh[b].toString()]=
a.ha[b];if(p.Mc){p={x:a.x,y:a.y,w:a.width,h:a.height,l:a.d.B,zi:a.gb()};0!==a.i&&(p.a=a.i);1!==a.opacity&&(p.o=a.opacity);0.5!==a.Ra&&(p.hX=a.Ra);0.5!==a.Sa&&(p.hY=a.Sa);0!==a.La&&(p.bm=a.La);a.visible||(p.v=a.visible);a.jc||(p.ce=a.jc);-1!==a.We&&(p.mts=a.We);if(c.q.length)for(p.fx=[],b=0,f=c.q.length;b<f;b++)q=c.q[b],p.fx.push({name:q.name,active:a.Cc[q.index],params:a.aa[q.index]});g.w=p}if(a.A&&a.A.length)for(g.behs={},b=0,f=a.A.length;b<f;b++)c=a.A[b],c.Ob&&(g.behs[c.type.B.toString()]=c.Ob());
a.Ob&&(g.data=a.Ob());return g};b.prototype.Rm=function(a,e){var b,f;b=0;for(f=a.yh.length;b<f;b++)if(a.yh[b]===e)return b;return-1};b.prototype.Nm=function(a,e){var b,f;b=0;for(f=a.A.length;b<f;b++)if(a.A[b].type.B===e)return b;return-1};b.prototype.gg=function(a,e,b){var f,p,c,q,l;l=a.type;c=l.Ia;if(b){if(!e.c2)return}else a.uid=e.uid;e.ex?a.R=e.ex:Ia(a.R);if(p=e.ivs)for(f in p)p.hasOwnProperty(f)&&(b=this.Rm(l,parseInt(f,10)),0>b||b>=a.ha.length||(a.ha[b]=p[f]));if(c.Mc){c=e.w;a.d.B!==c.l&&(b=
a.d,a.d=this.X.Rf(c.l),a.d?(a.d.c.push(a),a.d.Ya=!0,wa(b.c,a),b.Ya=!0):(a.d=b,this.Ed(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.Dd=c.zi;a.i=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Ra=c.hasOwnProperty("hX")?c.hX:0.5;a.Sa=c.hasOwnProperty("hY")?c.hY:0.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.jc=c.hasOwnProperty("ce")?c.ce:!0;a.We=c.hasOwnProperty("mts")?c.mts:-1;a.La=c.hasOwnProperty("bm")?c.bm:0;a.ve=Oa(a.La);this.j&&Pa(a,a.La,this.j);a.M();if(c.hasOwnProperty("fx"))for(b=
0,p=c.fx.length;b<p;b++)q=l.rh(c.fx[b].name),0>q||(a.Cc[q]=c.fx[b].active,a.aa[q]=c.fx[b].params);a.zc()}if(l=e.behs)for(f in l)l.hasOwnProperty(f)&&(c=this.Nm(a,parseInt(f,10)),0>c||a.A[c].vc(l[f]));e.data&&a.vc(e.data)};vb=function(a){return new b(document.getElementById(a))};wb=function(a,e){return new b({dc:!0,width:a,height:e})};window.cr_createRuntime=vb;window.cr_createDCRuntime=wb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");
a.Zp=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var n=document.getElementById("c2canvas");return n?n.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(n,k){if(0!==n&&0!==k){var b=window.cr_getC2Runtime();b&&b.setSize(n,k)}};window.cr_setSuspended=function(n){var k=window.cr_getC2Runtime();k&&k.setSuspended(n)};
(function(){function n(a,e){this.b=a;this.ye=null;this.scrollX=this.b.oa/2;this.scrollY=this.b.na/2;this.scale=1;this.i=0;this.Be=!0;this.name=e[0];this.width=e[1];this.height=e[2];this.Uk=e[3];this.Dk=e[4];this.B=e[5];var b=e[6],c,g;this.r=[];this.He=[];c=0;for(g=b.length;c<g;c++){var m=new xb(this,b[c]);m.$j=c;this.r.push(m)}b=e[7];this.jd=[];c=0;for(g=b.length;c<g;c++){var m=b[c],f=this.b.k[m[1]];f.Ub||(f.Ub=m);this.jd.push(m);-1===this.He.indexOf(f)&&this.He.push(f)}this.q=[];this.H=[];this.aa=
[];c=0;for(g=e[8].length;c<g;c++)this.q.push({id:e[8][c][0],name:e[8][c][1],va:-1,Za:!0,index:c}),this.aa.push(e[8][c][2].slice(0));this.zc();this.ai=new na(0,0,1,1);this.bi=new na(0,0,1,1);this.Pc={}}function k(a,b){return a.Dd-b.Dd}function b(a,b){this.S=a;this.b=a.b;this.c=[];this.scale=1;this.i=0;this.bd=!1;this.yc=new na(0,0,0,0);this.Ok=new oa;this.Cb=this.Ka=this.Db=this.Ja=0;this.Ya=!1;this.name=b[0];this.index=b[1];this.B=b[2];this.visible=b[3];this.Gc=b[4];this.Bd=b[5];this.wc=b[6];this.xc=
b[7];this.opacity=b[8];this.jh=b[9];this.pf=b[10];this.La=b[11];this.hm=b[12];this.ve="source-over";this.za=this.Ba=0;this.Qc=!1;var c=b[13],h,g;this.Qd=[];h=0;for(g=c.length;h<g;h++){var m=c[h],f=this.b.k[m[1]];f.Ub||(f.Ub=m,f.Rl=this.index);this.Qd.push(m);-1===this.S.He.indexOf(f)&&this.S.He.push(f)}this.q=[];this.H=[];this.aa=[];h=0;for(g=b[14].length;h<g;h++)this.q.push({id:b[14][h][0],name:b[14][h][1],va:-1,Za:!0,index:h}),this.aa.push(b[14][h][2].slice(0));this.zc();this.ai=new na(0,0,1,1);
this.bi=new na(0,0,1,1)}n.prototype.oo=function(a){var b=a.type.B.toString();this.Pc.hasOwnProperty(b)||(this.Pc[b]=[]);this.Pc[b].push(this.b.hi(a))};n.prototype.jj=function(){var a=this.r[0];return!a.Bd&&1===a.opacity&&!a.jh&&a.visible};n.prototype.zc=function(){this.H.length=0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.Za&&this.H.push(c)};n.prototype.qh=function(a){var b,c,h;b=0;for(c=this.q.length;b<c;b++)if(h=this.q[b],h.name===a)return h;return null};var c=[],s=!0;n.prototype.li=
function(){this.Dk&&(this.ye=this.b.gh[this.Dk],this.ye.Zk());this.b.X=this;this.scrollX=this.b.oa/2;this.scrollY=this.b.na/2;var a,b,l,h,g,m,f;a=0;for(l=this.b.k.length;a<l;a++)if(b=this.b.k[a],!b.F)for(g=b.c,b=0,h=g.length;b<h;b++)if(m=g[b],m.d){var n=m.d.$j;n>=this.r.length&&(n=this.r.length-1);m.d=this.r[n];-1===m.d.c.indexOf(m)&&m.d.c.push(m);m.d.Ya=!0}if(!s)for(a=0,l=this.r.length;a<l;++a)this.r[a].c.sort(k);c.length=0;this.Dl();a=0;for(l=this.r.length;a<l;a++)m=this.r[a],m.Ql(),m.bd=!0,b=m.Ld(!0),
h=m.Ld(!1),m.bd=!1,this.b.ee&&(b=Math.round(b),h=Math.round(h)),m.ei(b,h,null);g=!1;if(!this.Be){for(f in this.Pc)if(this.Pc.hasOwnProperty(f)&&(b=this.b.Sf(parseInt(f,10)))&&!b.F&&this.b.ri(b)){h=this.Pc[f];a=0;for(l=h.length;a<l;a++){m=null;if(b.Ia.Mc&&(m=this.Rf(h[a].w.l),!m))continue;m=this.b.ad(b.Ub,m,!1,0,0,!0);this.b.gg(m,h[a]);g=!0;c.push(m)}h.length=0}a=0;for(l=this.r.length;a<l;a++)this.r[a].c.sort(k),this.r[a].Ya=!0}g&&(this.b.ya(),this.b.rk());for(a=0;a<c.length;a++)if(m=c[a],m.type.Jb)for(l=
m.De(),b=0,h=m.type.Pa.length;b<h;b++)f=m.type.Pa[b],m.type!==f&&(f.c.length>l?m.siblings.push(f.c[l]):f.Ub&&(g=this.b.ad(f.Ub,m.d,!0,m.x,m.y,!0),this.b.ya(),f.Jg(),m.siblings.push(g),c.push(g)));a=0;for(l=this.jd.length;a<l;a++)this.b.ad(this.jd[a],null,!0);this.b.Wg=null;this.b.ya();if(this.b.O&&!this.b.hb)for(a=0,l=this.b.k.length;a<l;a++)f=this.b.k[a],!f.F&&f.c.length&&f.mk&&f.mk(this.b.O);a=0;for(l=c.length;a<l;a++)m=c[a],this.b.trigger(Object.getPrototypeOf(m.type.Ia).T.yi,m);c.length=0;this.b.trigger(Y.prototype.T.nl,
null);this.Be=!1};n.prototype.Pl=function(){var a,b,c,h,g;b=a=0;for(c=this.jd.length;a<c;a++)h=this.jd[a],g=this.b.k[h[1]],g.global?this.b.ad(h,null,!0):(this.jd[b]=h,b++);this.jd.length=b};n.prototype.vo=function(){this.b.trigger(Y.prototype.T.ml,null);this.b.ec.Xa.length=0;var a,b,c,h,g,m;a=0;for(b=this.r.length;a<b;a++)for(this.r[a].$k(),g=this.r[a].c,c=0,h=g.length;c<h;c++)m=g[c],m.type.global||this.b.ri(m.type)&&this.oo(m);a=0;for(b=this.r.length;a<b;a++){g=this.r[a].c;c=0;for(h=g.length;c<h;c++)m=
g[c],m.type.global||this.b.Ed(m);this.b.ya();g.length=0;this.r[a].Ya=!0}a=0;for(b=this.b.k.length;a<b;a++)if(g=this.b.k[a],!(g.global||g.Ia.Mc||g.Ia.yg||g.F)){c=0;for(h=g.c.length;c<h;c++)this.b.Ed(g.c[c]);this.b.ya()}s=!1};n.prototype.cd=function(a){var b,c=a,h=!1,g=!this.b.rb;g&&(this.b.eg||(this.b.eg=document.createElement("canvas"),b=this.b.eg,b.width=this.b.D,b.height=this.b.C,this.b.Fj=b.getContext("2d"),h=!0),b=this.b.eg,c=this.b.Fj,b.width!==this.b.D&&(b.width=this.b.D,h=!0),b.height!==this.b.C&&
(b.height=this.b.C,h=!0),h&&(c.webkitImageSmoothingEnabled=this.b.N,c.mozImageSmoothingEnabled=this.b.N,c.msImageSmoothingEnabled=this.b.N,c.imageSmoothingEnabled=this.b.N));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Ng&&!this.jj()&&c.clearRect(0,0,this.b.D,this.b.C);var m,f,h=0;for(m=this.r.length;h<m;h++)f=this.r[h],f.visible&&0<f.opacity&&11!==f.La&&f.cd(c);g&&a.drawImage(b,0,0,this.b.width,this.b.height)};n.prototype.Vb=function(a){var b=0<this.H.length||this.b.le||!this.b.rb;
if(b){this.b.Ta||(this.b.Ta=a.Jc(this.b.D,this.b.C,this.b.N));if(this.b.Ta.ue!==this.b.D||this.b.Ta.te!==this.b.C)a.deleteTexture(this.b.Ta),this.b.Ta=a.Jc(this.b.D,this.b.C,this.b.N);a.ac(this.b.Ta);this.b.rb||a.ge(this.b.D,this.b.C)}else this.b.Ta&&(a.ac(null),a.deleteTexture(this.b.Ta),this.b.Ta=null);this.b.Ng&&!this.jj()&&a.clear(0,0,0,0);var c,h;c=0;for(h=this.r.length;c<h;c++)this.r[c].visible&&0<this.r[c].opacity&&this.r[c].Vb(a);b&&(0===this.H.length||1===this.H.length&&this.b.rb?(1===this.H.length?
(b=this.H[0].index,a.cc(this.H[0].va),a.fe(null,1/this.b.D,1/this.b.C,0,0,1,1,this.scale,this.i,0,0,this.aa[b]),a.pg(this.H[0].va)&&(this.b.U=!0)):a.cc(0),this.b.rb||a.ge(this.b.width,this.b.height),a.ac(null),a.df(1),a.xb(this.b.Ta),a.yk(),a.Rc(),a.Xc(),b=this.b.width/2,c=this.b.height/2,a.sg(-b,c,b,c,b,-c,-b,-c),a.xb(null)):this.ci(a,null,null,null))};n.prototype.Ce=function(){return 0<this.H.length||this.b.le||!this.b.rb?this.b.Ta:null};n.prototype.gj=function(){var a=this.r[0].tb(),b,c,h;b=1;
for(c=this.r.length;b<c;b++)h=this.r[b],(0!==h.wc||0!==h.xc)&&h.tb()<a&&(a=h.tb());return a};n.prototype.wk=function(a){if(!this.Uk){var b=this.b.D*(1/this.gj())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.U=!0)};n.prototype.xk=function(a){if(!this.Uk){var b=this.b.C*(1/this.gj())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.U=!0)};n.prototype.Dl=function(){this.wk(this.scrollX);this.xk(this.scrollY)};n.prototype.ci=
function(a,b,c,h){var g=c?c.H:b?b.H:this.H,m=1,f=0,k=0,n=0;c?(m=c.d.tb(),f=c.d.Gb(),k=c.d.Ja,n=c.d.Ka):b&&(m=b.tb(),f=b.Gb(),k=b.Ja,n=b.Ka);var s=this.b.mh,v,q,p,d,r=0,t=1,fa,E=this.b.D,D=this.b.C,ta=E/2,ua=D/2,N=b?b.ai:this.ai,B=b?b.bi:this.bi,C=0,F=0,z=0,R=0,A=E,G=E,y=D,W=D,K=p=0,O=c?c.d.Gb():0;if(c){v=0;for(q=g.length;v<q;v++)p+=a.Wm(g[v].va),K+=a.Xm(g[v].va);d=c.fa;C=b.Ga(d.left,d.top,!0,!0);z=b.Ga(d.left,d.top,!1,!0);A=b.Ga(d.right,d.bottom,!0,!0);y=b.Ga(d.right,d.bottom,!1,!0);0!==O&&(v=b.Ga(d.right,
d.top,!0,!0),q=b.Ga(d.right,d.top,!1,!0),F=b.Ga(d.left,d.bottom,!0,!0),R=b.Ga(d.left,d.bottom,!1,!0),d=Math.min(C,A,v,F),A=Math.max(C,A,v,F),C=d,d=Math.min(z,y,q,R),y=Math.max(z,y,q,R),z=d);C-=p;z-=K;A+=p;y+=K;B.left=C/E;B.top=1-z/D;B.right=A/E;B.bottom=1-y/D;F=C=P(C);R=z=P(z);G=A=la(A);W=y=la(y);F-=p;R-=K;G+=p;W+=K;0>C&&(C=0);0>z&&(z=0);A>E&&(A=E);y>D&&(y=D);0>F&&(F=0);0>R&&(R=0);G>E&&(G=E);W>D&&(W=D);N.left=C/E;N.top=1-z/D;N.right=A/E;N.bottom=1-y/D}else N.left=B.left=0,N.top=B.top=0,N.right=B.right=
1,N.bottom=B.bottom=1;K=c&&((c.i||O)&&a.$e(g[0].va)||0!==p||0!==K||1!==c.opacity||c.type.Ia.Yj)||b&&!c&&1!==b.opacity;a.yk();if(K){s[r]||(s[r]=a.Jc(E,D,this.b.N));if(s[r].ue!==E||s[r].te!==D)a.deleteTexture(s[r]),s[r]=a.Jc(E,D,this.b.N);a.cc(0);a.ac(s[r]);fa=W-R;a.clearRect(F,D-R-fa,G-F,fa);c?c.Vb(a):(a.xb(this.b.ib),a.df(b.opacity),a.Rc(),a.translate(-ta,-ua),a.Xc(),a.wd(C,y,A,y,A,z,C,z,N));B.left=B.top=0;B.right=B.bottom=1;c&&(d=N.top,N.top=N.bottom,N.bottom=d);r=1;t=0}a.df(1);p=g.length-1;var O=
a.Zh(g[p].va)||!b&&!c&&!this.b.rb,V=0;v=0;for(q=g.length;v<q;v++){s[r]||(s[r]=a.Jc(E,D,this.b.N));if(s[r].ue!==E||s[r].te!==D)a.deleteTexture(s[r]),s[r]=a.Jc(E,D,this.b.N);a.cc(g[v].va);V=g[v].index;a.pg(g[v].va)&&(this.b.U=!0);0!=v||K?(a.fe(h,1/E,1/D,B.left,B.top,B.right,B.bottom,m,f,k,n,c?c.aa[V]:b?b.aa[V]:this.aa[V]),a.xb(null),v!==p||O?(a.ac(s[r]),fa=W-R,d=D-R-fa,a.clearRect(F,d,G-F,fa)):(c?a.Sc(c.Ba,c.za):b&&a.Sc(b.Ba,b.za),a.ac(h)),a.xb(s[t]),a.Rc(),a.translate(-ta,-ua),a.Xc(),a.wd(C,y,A,y,
A,z,C,z,N),v!==p||O||a.xb(null)):(a.ac(s[r]),fa=W-R,d=D-R-fa,a.clearRect(F,d,G-F,fa),c?(a.fe(h,1/c.width,1/c.height,B.left,B.top,B.right,B.bottom,m,f,k,n,c.aa[V]),c.Vb(a)):(a.fe(h,1/E,1/D,0,0,1,1,m,f,k,n,b?b.aa[V]:this.aa[V]),a.xb(b?this.b.ib:this.b.Ta),a.Rc(),a.translate(-ta,-ua),a.Xc(),a.wd(C,y,A,y,A,z,C,z,N)),B.left=B.top=0,B.right=B.bottom=1,c&&!O&&(d=y,y=z,z=d));r=0===r?1:0;t=0===r?1:0}O&&(a.cc(0),c?a.Sc(c.Ba,c.za):b?a.Sc(b.Ba,b.za):this.b.rb||(a.ge(this.b.width,this.b.height),ta=this.b.width/
2,ua=this.b.height/2,z=C=0,A=this.b.width,y=this.b.height),a.ac(h),a.xb(s[t]),a.Rc(),a.translate(-ta,-ua),a.Xc(),c&&1===g.length&&!K?a.wd(C,z,A,z,A,y,C,y,N):a.wd(C,y,A,y,A,z,C,z,N),a.xb(null))};n.prototype.Rf=function(a){var b,c;b=0;for(c=this.r.length;b<c;b++)if(this.r[b].B===a)return this.r[b];return null};n.prototype.Ob=function(){var a,b,c,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Be,persist:this.Pc,fx:[],layers:{}};a=0;for(b=this.q.length;a<b;a++)c=
this.q[a],h.fx.push({name:c.name,active:c.Za,params:this.aa[c.index]});a=0;for(b=this.r.length;a<b;a++)c=this.r[a],h.layers[c.B.toString()]=c.Ob();return h};n.prototype.vc=function(a){var b,c,h,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Pc=a.persist;"undefined"!==typeof a.fv&&(this.Be=a.fv);var m=a.fx;b=0;for(c=m.length;b<c;b++)if(h=this.qh(m[b].name))h.Za=m[b].active,this.aa[h.index]=m[b].params;this.zc();b=a.layers;for(g in b)b.hasOwnProperty(g)&&
(a=this.Rf(parseInt(g,10)))&&a.vc(b[g])};kb=n;b.prototype.zc=function(){this.H.length=0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.Za&&this.H.push(c)};b.prototype.qh=function(a){var b,c,h;b=0;for(c=this.q.length;b<c;b++)if(h=this.q[b],h.name===a)return h;return null};b.prototype.Ql=function(){var a,b,l,h,g,m;b=a=0;for(l=this.Qd.length;a<l;a++){h=this.Qd[a];g=this.b.k[h[1]];m=this.b.ri(g);g=!0;if(!m||this.S.Be)h=this.b.ad(h,this,!0),c.push(h),h.type.global&&(g=!1);g&&(this.Qd[b]=this.Qd[a],
b++)}this.Qd.length=b;this.b.ya();!this.b.p&&this.q.length&&(this.La=this.hm);this.ve=Oa(this.La);this.b.j&&Pa(this,this.La,this.b.j)};b.prototype.$k=function(){if(this.Ya){var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].Dd=a;this.Ya=!1}};b.prototype.tb=function(a){return this.Um()*(this.b.rb||a?this.b.re:1)};b.prototype.Um=function(){return(this.scale*this.S.scale-1)*this.pf+1};b.prototype.Gb=function(){return this.bd?0:S(this.S.i+this.i)};b.prototype.cd=function(a){this.Qc=this.jh||1!==this.opacity||
0!==this.La;var b=this.b.canvas,c=a,h=!1;this.Qc&&(this.b.dg||(this.b.dg=document.createElement("canvas"),b=this.b.dg,b.width=this.b.D,b.height=this.b.C,this.b.Ej=b.getContext("2d"),h=!0),b=this.b.dg,c=this.b.Ej,b.width!==this.b.D&&(b.width=this.b.D,h=!0),b.height!==this.b.C&&(b.height=this.b.C,h=!0),h&&(c.webkitImageSmoothingEnabled=this.b.N,c.mozImageSmoothingEnabled=this.b.N,c.msImageSmoothingEnabled=this.b.N,c.imageSmoothingEnabled=this.b.N),this.Bd&&c.clearRect(0,0,this.b.D,this.b.C));c.globalAlpha=
1;c.globalCompositeOperation="source-over";this.Bd||(c.fillStyle="rgb("+this.Gc[0]+","+this.Gc[1]+","+this.Gc[2]+")",c.fillRect(0,0,this.b.D,this.b.C));c.save();this.bd=!0;var h=this.Ld(!0),g=this.Ld(!1);this.bd=!1;this.b.ee&&(h=Math.round(h),g=Math.round(g));this.ei(h,g,c);var m=this.tb();c.scale(m,m);c.translate(-h,-g);for(var f,h=0,g=this.c.length;h<g;h++)m=this.c[h],m.visible&&0!==m.width&&0!==m.height&&(m.qa(),f=m.fa,f.right<this.Ja||f.bottom<this.Ka||f.left>this.Db||f.top>this.Cb||(c.globalCompositeOperation=
m.ve,m.cd(c)));c.restore();this.Qc&&(a.globalCompositeOperation=this.ve,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.ei=function(a,b,c){var h=this.tb();this.Ja=a;this.Ka=b;this.Db=a+this.b.D*(1/h);this.Cb=b+this.b.C*(1/h);a=this.Gb();0!==a&&(c&&(c.translate(this.b.D/2,this.b.C/2),c.rotate(-a),c.translate(this.b.D/-2,this.b.C/-2)),this.yc.set(this.Ja,this.Ka,this.Db,this.Cb),this.yc.offset((this.Ja+this.Db)/-2,(this.Ka+this.Cb)/-2),this.Ok.Bk(this.yc,a),this.Ok.Hi(this.yc),this.yc.offset((this.Ja+
this.Db)/2,(this.Ka+this.Cb)/2),this.Ja=this.yc.left,this.Ka=this.yc.top,this.Db=this.yc.right,this.Cb=this.yc.bottom)};b.prototype.Vb=function(a){var b=this.b.D,c=this.b.C,h=0,g=0;if(this.Qc=this.jh||1!==this.opacity||0<this.H.length||0!==this.La){this.b.ib||(this.b.ib=a.Jc(this.b.D,this.b.C,this.b.N));if(this.b.ib.ue!==this.b.D||this.b.ib.te!==this.b.C)a.deleteTexture(this.b.ib),this.b.ib=a.Jc(this.b.D,this.b.C,this.b.N);a.ac(this.b.ib);this.Bd&&a.clear(0,0,0,0)}this.Bd||a.clear(this.Gc[0]/255,
this.Gc[1]/255,this.Gc[2]/255,1);this.bd=!0;var g=this.Ld(!0),m=this.Ld(!1);this.bd=!1;this.b.ee&&(g=Math.round(g),m=Math.round(m));this.ei(g,m,null);m=this.tb();a.Rc();a.scale(m,m);a.tk(-this.Gb());a.translate((this.Ja+this.Db)/-2,(this.Ka+this.Cb)/-2);a.Xc();var f,k,n;f=0;for(k=this.c.length;f<k;f++)if(n=this.c[f],n.visible&&0!==n.width&&0!==n.height&&(n.qa(),h=n.fa,!(h.right<this.Ja||h.bottom<this.Ka||h.left>this.Db||h.top>this.Cb)))if(n.bl)if(h=n.H[0].va,g=n.H[0].index,1!==n.H.length||a.Zh(h)||
a.$n(h)||(n.i||n.d.Gb())&&a.$e(h)||1!==n.opacity||n.type.Ia.Yj)this.S.ci(a,this,n,this.Qc?this.b.ib:this.S.Ce()),a.Rc(),a.scale(m,m),a.tk(-this.Gb()),a.translate((this.Ja+this.Db)/-2,(this.Ka+this.Cb)/-2),a.Xc();else{a.cc(h);a.Sc(n.Ba,n.za);a.pg(h)&&(this.b.U=!0);var s=0,v=0,q=0,p=0;a.$e(h)&&(h=n.fa,s=this.Ga(h.left,h.top,!0,!0),v=this.Ga(h.left,h.top,!1,!0),q=this.Ga(h.right,h.bottom,!0,!0),h=this.Ga(h.right,h.bottom,!1,!0),s/=b,v=1-v/c,q/=b,p=1-h/c);a.fe(this.Qc?this.b.ib:this.S.Ce(),1/n.width,
1/n.height,s,v,q,p,this.tb(),this.Gb(),this.Ja,this.Ka,n.aa[g]);n.Vb(a)}else a.cc(0),a.Sc(n.Ba,n.za),n.Vb(a);this.Qc&&(h=this.H.length?this.H[0].va:0,g=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!a.Zh(h)&&1===this.opacity?(1===this.H.length?(a.cc(h),a.fe(this.S.Ce(),1/this.b.D,1/this.b.C,0,0,1,1,this.tb(),this.Gb(),this.Ja,this.Ka,this.aa[g]),a.pg(h)&&(this.b.U=!0)):a.cc(0),a.ac(this.S.Ce()),a.df(this.opacity),a.xb(this.b.ib),a.Sc(this.Ba,this.za),a.Rc(),a.Xc(),b=this.b.D/
2,c=this.b.C/2,a.sg(-b,c,b,c,b,-c,-b,-c),a.xb(null)):this.S.ci(a,this,null,this.S.Ce()))};b.prototype.Ld=function(a){var b=0,c=0,h=this.b.devicePixelRatio;this.b.nd&&(b*=h,c*=h);var h=this.b.hk,g=this.b.ik,h=(this.S.scrollX-h)*this.wc+h,g=(this.S.scrollY-g)*this.xc+g,m=1/this.tb(!1),h=h-this.b.D*m/2,g=g-this.b.C*m/2,h=h+b*m,g=g+c*m,c=this.Gb();0!==c&&(h-=this.S.scrollX,g-=this.S.scrollY,b=Math.cos(c),c=Math.sin(c),m=h*b-g*c,g=g*b+h*c,h=m+this.S.scrollX,g+=this.S.scrollY);return a?h:g};b.prototype.Ga=
function(a,b,c,h){var g=this.Gb();if(0!==g){a-=this.S.scrollX;b-=this.S.scrollY;var m=Math.cos(-g),g=Math.sin(-g),f=a*m-b*g;b=b*m+a*g;a=f+this.S.scrollX;b+=this.S.scrollY}m=this.b.hk;g=this.b.ik;m=(this.S.scrollX-m)*this.wc+m;g=(this.S.scrollY-g)*this.xc+g;f=1/this.tb(!h);h?(m-=this.b.D*f/2,g-=this.b.C*f/2):(m-=this.b.width*f/2,g-=this.b.height*f/2);m=(a-m)/f;g=(b-g)/f;a=this.b.devicePixelRatio;this.b.nd&&!h&&(m/=a,g/=a);return c?m:g};b.prototype.Ob=function(){var a,b,c,h={s:this.scale,a:this.i,vl:this.Ja,
vt:this.Ka,vr:this.Db,vb:this.Cb,v:this.visible,bc:this.Gc,t:this.Bd,px:this.wc,py:this.xc,o:this.opacity,zr:this.pf,fx:[],instances:[]};a=0;for(b=this.q.length;a<b;a++)c=this.q[a],h.fx.push({name:c.name,active:c.Za,params:this.aa[c.index]});return h};b.prototype.vc=function(a){var b,c;this.scale=a.s;this.i=a.a;this.Ja=a.vl;this.Ka=a.vt;this.Db=a.vr;this.Cb=a.vb;this.visible=a.v;this.Gc=a.bc;this.Bd=a.t;this.wc=a.px;this.xc=a.py;this.opacity=a.o;this.pf=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(c=
this.qh(h[a].name))c.Za=h[a].active,this.aa[c.index]=h[a].params;this.zc();this.c.sort(k);this.Ya=!0};xb=b})();
(function(){function n(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function k(a,b){return a.index-b.index}function b(a){var b,d,c,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=u.length&&(u.length=a.length+1);u[a.length]||(u[a.length]=[]);e=u[a.length];b=0;for(d=e.length;b<d;b++)if(c=e[b],n(a,c))return c;e.push(a);return a}
function c(a,b){this.b=a;this.Qk={};this.Wi={};this.uh=!1;this.lj=new I;this.bh=[];this.Og=[];this.name=b[0];var d=b[1];this.Kc=[];var c,e;c=0;for(e=d.length;c<e;c++)this.nj(d[c],null,this.Kc)}function s(a){this.type=a;this.c=[];this.J=[];this.Y=!0}function a(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Tc=[];this.kj=this.Gg=this.oi=this.xh=this.group=this.Gk=!1;this.la=[];this.Eb=[];this.Ab=[];this.Ee="";this.Tf=this.xh=this.group=!1;this.Ni=null;d[1]&&(this.Ee=d[1][1].toLowerCase(),
this.group=!0,this.xh=!!d[1][0],this.Ni=[],this.Tf=this.xh,this.b.Jd.push(this),this.b.Uf[this.Ee]=this);this.Lb=d[2];this.B=d[4];this.group||(this.b.Gi[this.B.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var e=new yb(this,c[a]);e.index=a;this.la.push(e);this.Ci(e.type)}c=d[6];a=0;for(b=c.length;a<b;a++)e=new zb(this,c[a]),e.index=a,this.Eb.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.nj(d[a],this,this.Ab);this.Yf=!1;this.la.length&&(this.Yf=null==this.la[0].type&&
this.la[0].ta==Y.prototype.T.el)}function e(a,b){var d,c,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jb))for(d=0,c=a.Pa.length;d<c;d++)e=a.Pa[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function l(a,b){this.$a=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.Q=[];this.R={};this.index=-1;this.qe=!1;this.ta=b[1];this.trigger=0<b[3];this.Vi=2===b[3];this.zh=b[5];this.Kn=b[6];this.B=b[7];this.b.Md[this.B.toString()]=this;-1===b[0]?(this.type=null,this.ea=this.gi,this.$c=null,this.mb=-1):(this.type=this.b.k[b[0]],
this.ea=this.Kn?this.mo:this.fi,b[2]?(this.$c=this.type.Qf(b[2]),this.mb=this.type.nh(b[2])):(this.$c=null,this.mb=-1),this.$a.parent&&this.$a.parent.xg());this.Vi&&(this.ea=this.no);if(10===b.length){var d,c,e=b[9];d=0;for(c=e.length;d<c;d++){var f=new Ab(this,e[d]);this.u.push(f)}this.Q.length=e.length}}function h(a,b){this.$a=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.Q=[];this.R={};this.index=-1;this.qe=!1;this.ta=b[1];-1===b[0]?(this.type=null,this.ea=this.gi,this.$c=null,this.mb=-1):(this.type=
this.b.k[b[0]],this.ea=this.fi,b[2]?(this.$c=this.type.Qf(b[2]),this.mb=this.type.nh(b[2])):(this.$c=null,this.mb=-1));this.B=b[3];this.b.Id[this.B.toString()]=this;if(6===b.length){var d,c,e=b[5];d=0;for(c=e.length;d<c;d++){var f=new Ab(this,e[d]);this.u.push(f)}this.Q.length=e.length}}function g(a,b){this.n=a;this.$a=a.$a;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Wb=null;this.Uc=0;this.get=null;this.Mi=0;this.S=null;this.key=0;this.object=null;this.index=0;this.mf=this.xd=this.mf=this.xd=
this.Xi=this.ed=this.nf=null;this.Bb=!1;var d,c,e;switch(b[0]){case 0:case 7:this.Wb=new T(this,b[1]);this.Uc=0;this.get=this.en;break;case 1:this.Wb=new T(this,b[1]);this.Uc=0;this.get=this.gn;break;case 5:this.Wb=new T(this,b[1]);this.Uc=0;this.get=this.ln;break;case 3:case 8:this.Mi=b[1];this.get=this.cn;break;case 6:this.S=this.b.Jh[b[1]];this.get=this.mn;break;case 9:this.key=b[1];this.get=this.kn;break;case 4:this.object=this.b.k[b[1]];this.get=this.nn;this.$a.Ci(this.object);this.n instanceof
zb?this.$a.xg():this.$a.parent&&this.$a.parent.xg();break;case 10:this.index=b[1];a.type.F?(this.get=this.hn,this.Bb=!0):this.get=this.jn;break;case 11:this.nf=b[1];this.ed=null;this.get=this.dn;break;case 2:case 12:this.Xi=b[1];this.get=this.bn;break;case 13:for(this.get=this.on,this.xd=[],this.mf=[],d=1,c=b.length;d<c;d++)e=new Ab(this.n,b[d]),this.xd.push(e),this.mf.push(0)}}function m(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.name=d[1];this.wh=d[3];this.Le=!!d[4];this.Xf=!!d[5];
this.B=d[6];this.b.ne[this.B.toString()]=this;this.data=this.wh;this.parent?(this.td=this.Le||this.Xf?-1:this.b.uo++,this.b.yl.push(this)):(this.td=-1,this.b.xl.push(this))}function f(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.Z=[];this.Ge=null;this.vn=d[1];this.Za=!0}function x(){this.Ik=[];this.reset(null)}var u=[];c.prototype.toString=ba("name");c.prototype.nj=function(a,b,d){switch(a[0]){case 0:a=new Bb(this,b,a);if(a.Lb)for(d.push(a),d=0,b=a.la.length;d<b;d++)a.la[d].trigger&&this.oj(a,
d);else a.wj()?this.oj(a,0):d.push(a);break;case 1:a=new ub(this,b,a);d.push(a);break;case 2:a=new Cb(this,b,a),d.push(a)}};c.prototype.ba=function(){var a,b;a=0;for(b=this.Kc.length;a<b;a++)this.Kc[a].ba(a<b-1&&this.Kc[a+1].Yf)};c.prototype.Zk=function(){this.bh.length=0;this.Og.length=0;this.Bi(this);this.Og.length=0};c.prototype.Bi=function(a){var b,d,c,e,f=a.bh,g=a.Og,h=this.lj.Cd();b=0;for(d=h.length;b<d;++b)c=h[b],e=c.Ge,!c.Za||a===e||-1<g.indexOf(e)||(g.push(e),e.Bi(a),f.push(e))};c.prototype.ea=
function(a){this.b.Yp||(this.uh=!0,a||(this.b.Ch=!0));var b,d;b=0;for(d=this.Kc.length;b<d;b++){var c=this.Kc[b];c.ea();this.b.Xg(c.Z);this.b.Tb.Ib()&&!this.b.Ma.length||this.b.ya()}a||(this.b.Ch=!1)};c.prototype.oj=function(a,b){a.Lb||this.b.Ig.push(a);var d,c,e=a.la[b],f;f=e.type?e.type.name:"system";var g=(d=e.Vi)?this.Wi:this.Qk;g[f]||(g[f]=[]);f=g[f];g=e.ta;if(d){if(e.u.length&&(e=e.u[0],1===e.type&&2===e.Wb.type)){e=e.Wb.value.toLowerCase();d=0;for(c=f.length;d<c;d++)if(f[d].method==g){d=f[d].ze;
d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];f.push({method:g,ze:d})}}else{d=0;for(c=f.length;d<c;d++)if(f[d].method==g){f[d].ze.push([a,b]);return}Z&&g===Z.prototype.T.Hd?f.unshift({method:g,ze:[[a,b]]}):f.push({method:g,ze:[[a,b]]})}};lb=c;s.prototype.ij=function(){return this.Y?this.type.c.length:this.c.length};s.prototype.sb=function(){return this.Y?this.type.c:this.c};s.prototype.Ze=function(a){a&&(a.b.Fa().qb.Lb?(this.Y&&(this.c.length=0,ra(this.J,a.type.c),this.Y=!1),a=this.J.indexOf(a),
-1!==a&&(this.c.push(this.J[a]),this.J.splice(a,1))):(this.Y=!1,this.c.length=1,this.c[0]=a))};Va=s;window._c2hh_="";a.prototype.ba=function(a){var c,d=this.parent;if(this.group)for(this.Gg=!0;d;){if(!d.group){this.Gg=!1;break}d=d.parent}this.oi=!this.wj()&&(!this.parent||this.parent.group&&this.parent.Gg);this.kj=!!a;this.Tc=this.Z.slice(0);for(d=this.parent;d;){a=0;for(c=d.Z.length;a<c;a++)this.wl(d.Z[a]);d=d.parent}this.Z=b(this.Z);this.Tc=b(this.Tc);a=0;for(c=this.la.length;a<c;a++)this.la[a].ba();
a=0;for(c=this.Eb.length;a<c;a++)this.Eb[a].ba();a=0;for(c=this.Ab.length;a<c;a++)this.Ab[a].ba(a<c-1&&this.Ab[a+1].Yf)};a.prototype.Ci=function(a){e(a,this.Z)};a.prototype.wl=function(a){e(a,this.Tc)};a.prototype.xg=function(){this.Gk=!0;this.parent&&this.parent.xg()};a.prototype.wj=function(){return this.la.length?this.la[0].trigger:!1};a.prototype.ea=function(){var a,b=!1,d,c=this.b,e=this.b.Fa();e.qb=this;var f=this.la;this.Yf||(e.eh=!1);if(this.Lb){0===f.length&&(b=!0);e.ga=0;for(a=f.length;e.ga<
a;e.ga++)f[e.ga].trigger||(d=f[e.ga].ea())&&(b=!0);(e.qd=b)&&this.wg()}else{e.ga=0;for(a=f.length;e.ga<a;e.ga++)if(d=f[e.ga].ea(),!d){e.qd=!1;!this.oi||c.Tb.Ib()&&!c.Ma.length||c.ya();return}e.qd=!0;this.wg()}this.jm(e)};a.prototype.jm=function(a){a.qd&&this.kj&&(a.eh=!0);!this.oi||this.b.Tb.Ib()&&!this.b.Ma.length||this.b.ya()};a.prototype.ko=function(a){this.b.Fa().qb=this;this.la[a].ea()&&(this.wg(),this.b.Fa().qd=!0)};a.prototype.wg=function(){var a=this.b.Fa(),b;a.lb=0;for(b=this.Eb.length;a.lb<
b;a.lb++)if(this.Eb[a.lb].ea())return;this.uk()};a.prototype.ho=function(){var a=this.b.Fa(),b;for(b=this.Eb.length;a.lb<b;a.lb++)if(this.Eb[a.lb].ea())return;this.uk()};a.prototype.uk=function(){if(this.Ab.length){var a,b,d,c,e=this.Ab.length-1;this.b.rg(this);if(this.Gk)for(a=0,b=this.Ab.length;a<b;a++)d=this.Ab[a],(c=!this.Gg||!this.group&&a<e)&&this.b.qg(d.Z),d.ea(),c?this.b.ud(d.Z):this.b.Xg(d.Z);else for(a=0,b=this.Ab.length;a<b;a++)this.Ab[a].ea();this.b.og()}};a.prototype.lo=function(){var a=
this.b.Fa();a.qb=this;var b=!1,d;a.ga=0;for(d=this.la.length;a.ga<d;a.ga++)if(this.la[a.ga].ea())b=!0;else if(!this.Lb)return!1;return this.Lb?b:!0};a.prototype.io=function(){this.b.Lf++;var a=this.b.Fa().ga,b=this.b.rg(this);if(!this.Lb)for(b.ga=a+1,a=this.la.length;b.ga<a;b.ga++)if(!this.la[b.ga].ea()){this.b.og();return}this.wg();this.b.og()};a.prototype.Fn=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.la[b].type===a.type)return!1;return!0};Bb=a;l.prototype.ba=function(){var a,
b,d;a=0;for(b=this.u.length;a<b;a++)d=this.u[a],d.ba(),d.Bb&&(this.qe=!0)};l.prototype.no=H(!0);l.prototype.gi=function(){var a,b;a=0;for(b=this.u.length;a<b;a++)this.Q[a]=this.u[a].get();return Ga(this.ta.apply(this.b.ec,this.Q),this.zh)};l.prototype.mo=function(){var a,b;a=0;for(b=this.u.length;a<b;a++)this.Q[a]=this.u[a].get();a=this.ta.apply(this.$c?this.$c:this.type,this.Q);this.type.Sb();return a};l.prototype.fi=function(){var a,b,d,c,e,f,g,h,l=this.type,m=l.P(),k=this.$a.Lb&&!this.trigger;
b=0;var n=l.Jb,s=l.F,u=l.oc,x=this.mb,w=-1<x,v=this.qe,G=this.u,y=this.Q,W=this.zh,K=this.ta,O;if(v)for(b=0,e=G.length;b<e;++b)f=G[b],f.Bb||(y[b]=f.get(0));else for(b=0,e=G.length;b<e;++b)y[b]=G[b].get(0);if(m.Y){m.c.length=0;m.J.length=0;O=l.c;a=0;for(c=O.length;a<c;++a){h=O[a];if(v)for(b=0,e=G.length;b<e;++b)f=G[b],f.Bb&&(y[b]=f.get(a));w?(b=0,s&&(b=h.type.Pd[u]),b=K.apply(h.A[x+b],y)):b=K.apply(h,y);(g=Ga(b,W))?m.c.push(h):k&&m.J.push(h)}l.finish&&l.finish(!0);m.Y=!1;l.Sb();return m.ij()}d=0;O=
(g=k&&!this.$a.Fn(this))?m.J:m.c;var V=!1;a=0;for(c=O.length;a<c;++a){h=O[a];if(v)for(b=0,e=G.length;b<e;++b)f=G[b],f.Bb&&(y[b]=f.get(a));w?(b=0,s&&(b=h.type.Pd[u]),b=K.apply(h.A[x+b],y)):b=K.apply(h,y);if(Ga(b,W))if(V=!0,g){if(m.c.push(h),n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().c.push(f)}else{O[d]=h;if(n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().c[d]=f;d++}else if(g){O[d]=h;if(n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().J[d]=f;d++}else if(k&&
(m.J.push(h),n))for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().J.push(f)}O.length=d;if(n)for(s=l.Pa,a=0,c=s.length;a<c;a++)h=s[a].P(),g?h.J.length=d:h.c.length=d;d=V;if(g&&!V)for(a=0,c=m.c.length;a<c;a++){h=m.c[a];if(v)for(b=0,e=G.length;b<e;b++)f=G[b],f.Bb&&(y[b]=f.get(a));b=w?K.apply(h.A[x],y):K.apply(h,y);if(Ga(b,W)){V=!0;break}}l.finish&&l.finish(d||k);return k?V:m.ij()};yb=l;h.prototype.ba=function(){var a,b,d;a=0;for(b=this.u.length;a<b;a++)d=this.u[a],d.ba(),d.Bb&&(this.qe=
!0)};h.prototype.gi=function(){var a,b;a=0;for(b=this.u.length;a<b;a++)this.Q[a]=this.u[a].get();return this.ta.apply(this.b.ec,this.Q)};h.prototype.fi=function(){var a=this.type.P().sb(),b=this.type.F,d=this.type.oc,c=this.mb,e=-1<c,f=this.qe,g=this.u,h=this.Q,l=this.ta,m,k,n,s,u,x;if(f)for(k=0,s=g.length;k<s;++k)u=g[k],u.Bb||(h[k]=u.get(0));else for(k=0,s=g.length;k<s;++k)h[k]=g[k].get(0);m=0;for(n=a.length;m<n;++m){x=a[m];if(f)for(k=0,s=g.length;k<s;++k)u=g[k],u.Bb&&(h[k]=u.get(m));e?(k=0,b&&(k=
x.type.Pd[d]),l.apply(x.A[c+k],h)):l.apply(x,h)}return!1};zb=h;var w=[],v=-1;g.prototype.ba=function(){var a,b;if(11===this.type)this.ed=this.b.dj(this.nf,this.$a.parent);else if(13===this.type)for(a=0,b=this.xd.length;a<b;a++)this.xd[a].ba();this.Wb&&this.Wb.ba()};g.prototype.On=function(a){this.Bb||!a||a.Ia.yg||(this.Bb=!0)};g.prototype.zk=function(){this.Bb=!0};g.prototype.ja=function(){v++;w.length===v&&w.push(new Db);return w[v]};g.prototype.da=function(){v--};g.prototype.en=function(a){this.Uc=
a||0;a=this.ja();this.Wb.get(a);this.da();return a.data};g.prototype.gn=function(a){this.Uc=a||0;a=this.ja();this.Wb.get(a);this.da();return L(a.data)?a.data:""};g.prototype.nn=ba("object");g.prototype.cn=ba("Mi");g.prototype.ln=function(a){this.Uc=a||0;a=this.ja();this.Wb.get(a);this.da();return a.ma()?this.b.Tm(a.data):this.b.Sm(a.data)};g.prototype.mn=ba("S");g.prototype.kn=ba("key");g.prototype.jn=ba("index");g.prototype.hn=function(a){a=a||0;var b=this.n.type,d=null,d=b.P(),c=d.sb();if(c.length)d=
c[a%c.length].type;else if(d.J.length)d=d.J[a%d.J.length].type;else if(b.c.length)d=b.c[a%b.c.length].type;else return 0;return this.index+d.Mf[b.oc]};g.prototype.dn=ba("ed");g.prototype.bn=ba("Xi");g.prototype.on=function(){var a,b;a=0;for(b=this.xd.length;a<b;a++)this.mf[a]=this.xd[a].get();return this.mf};Ab=g;m.prototype.ba=function(){this.Z=b(this.Z)};m.prototype.qo=function(a){var b=this.b.cj();this.parent&&!this.Le&&b?(this.td>=b.length&&(b.length=this.td+1),b[this.td]=a):this.data=a};m.prototype.an=
function(){var a=this.b.cj();return!this.parent||this.Le||!a||this.Xf?this.data:this.td>=a.length||"undefined"===typeof a[this.td]?this.wh:a[this.td]};m.prototype.ea=function(){!this.parent||this.Le||this.Xf||this.qo(this.wh)};ub=m;f.prototype.toString=function(){return"include:"+this.Ge.toString()};f.prototype.ba=function(){this.Ge=this.b.gh[this.vn];this.sheet.lj.add(this);this.Z=b(this.Z);for(var a=this.parent;a;)a.group&&a.Ni.push(this),a=a.parent;this.Ao()};f.prototype.ea=function(){this.parent&&
this.b.bf(this.b.k);this.Ge.uh||this.Ge.ea(!0);this.parent&&this.b.ud(this.b.k)};f.prototype.Ao=function(){for(var a=this.parent;a;){if(a.group&&!a.Tf){this.Za=!1;return}a=a.parent}this.Za=!0};Cb=f;x.prototype.reset=function(a){this.qb=a;this.lb=this.ga=0;this.Ik.length=0;this.eh=this.qd=!1};tb=x})();
(function(){function n(b,c){this.n=b;this.b=b.b;this.type=c[0];this.get=[this.wm,this.rm,this.Em,this.Hm,this.lm,this.Fm,this.Am,this.om,this.zm,this.Dm,this.mm,this.Cm,this.pm,this.Bm,this.xm,this.ym,this.tm,this.um,this.nm,this.Gm,this.Ti,this.vm,this.Ti,this.qm][this.type];var k=null;this.Na=this.u=this.Q=this.ta=this.Dg=this.pa=this.first=this.value=null;this.mb=-1;this.qc=null;this.vi=-1;this.ed=this.nf=null;this.cf=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new T(b,c[1]);break;case 18:this.first=new T(b,c[1]);this.pa=new T(b,c[2]);this.Dg=new T(b,c[3]);break;case 19:this.ta=c[1];this.ta!==Y.prototype.Xb.random&&this.ta!==Y.prototype.Xb.Ll||this.n.zk();this.Q=[];this.u=[];3===c.length?(k=c[2],this.Q.length=k.length+1):this.Q.length=1;break;case 20:this.Na=this.b.k[c[1]];this.mb=-1;this.ta=c[2];this.cf=c[3];Fb.fl&&this.ta===Fb.fl.prototype.Xb.Mo&&this.n.zk();this.qc=c[4]?new T(b,c[4]):null;this.Q=[];this.u=[];6===c.length?(k=c[5],this.Q.length=k.length+
1):this.Q.length=1;break;case 21:this.Na=this.b.k[c[1]];this.cf=c[2];this.qc=c[3]?new T(b,c[3]):null;this.vi=c[4];break;case 22:this.Na=this.b.k[c[1]];this.Na.Qf(c[2]);this.mb=this.Na.nh(c[2]);this.ta=c[3];this.cf=c[4];this.qc=c[5]?new T(b,c[5]):null;this.Q=[];this.u=[];7===c.length?(k=c[6],this.Q.length=k.length+1):this.Q.length=1;break;case 23:this.nf=c[1],this.ed=null}this.n.On(this.Na);4<=this.type&&17>=this.type&&(this.first=new T(b,c[1]),this.pa=new T(b,c[2]));if(k){var a,e;a=0;for(e=k.length;a<
e;a++)this.u.push(new T(b,k[a]))}}function k(b,c){this.type=b||U.Gd;this.data=c||0;this.ae=null;this.type==U.Gd&&(this.data=Math.floor(this.data))}n.prototype.ba=function(){23===this.type&&(this.ed=this.n.b.dj(this.nf,this.n.$a.parent));this.first&&this.first.ba();this.pa&&this.pa.ba();this.Dg&&this.Dg.ba();this.qc&&this.qc.ba();if(this.u){var b,c;b=0;for(c=this.u.length;b<c;b++)this.u[b].ba()}};n.prototype.Gm=function(b){this.Q[0]=b;b=this.n.ja();var c,k;c=0;for(k=this.u.length;c<k;c++)this.u[c].get(b),
this.Q[c+1]=b.data;this.n.da();this.ta.apply(this.b.ec,this.Q)};n.prototype.Ti=function(b){var c=this.Na.P(),k=c.sb();if(!k.length)if(c.J.length)k=c.J;else{this.cf?b.yb(""):b.V(0);return}this.Q[0]=b;b.ae=this.Na;b=this.n.ja();var a,c=0;for(a=this.u.length;c<a;c++)this.u[c].get(b),this.Q[c+1]=b.data;c=this.n.Uc;this.qc&&(this.qc.get(b),b.ma()&&(c=b.data,k=this.Na.c));this.n.da();c%=k.length;0>c&&(c+=k.length);k=k[c];-1<this.mb?(b=0,this.Na.F&&(b=k.type.Pd[this.Na.oc]),this.ta.apply(k.A[this.mb+b],
this.Q)):this.ta.apply(k,this.Q)};n.prototype.vm=function(b){var c=this.Na.P(),k=c.sb();if(!k.length)if(c.J.length)k=c.J;else{this.cf?b.yb(""):b.V(0);return}c=this.n.Uc;if(this.qc){var a=this.n.ja();this.qc.get(a);if(a.ma()){c=a.data;k=this.Na.c;c%=k.length;0>c&&(c+=k.length);k=k[c].ha[this.vi];L(k)?b.yb(k):b.K(k);this.n.da();return}this.n.da()}c%=k.length;0>c&&(c+=k.length);k=k[c];c=0;this.Na.F&&(c=k.type.Mf[this.Na.oc]);k=k.ha[this.vi+c];L(k)?b.yb(k):b.K(k)};n.prototype.wm=function(b){b.type=U.Gd;
b.data=this.value};n.prototype.rm=function(b){b.type=U.Fd;b.data=this.value};n.prototype.Em=function(b){b.type=U.qf;b.data=this.value};n.prototype.Hm=function(b){this.first.get(b);b.ma()&&(b.data=-b.data)};n.prototype.lm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data+=c.data,c.Ud()&&b.$d());this.n.da()};n.prototype.Fm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data-=c.data,c.Ud()&&b.$d());this.n.da()};n.prototype.Am=function(b){this.first.get(b);
var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data*=c.data,c.Ud()&&b.$d());this.n.da()};n.prototype.om=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data/=c.data,b.$d());this.n.da()};n.prototype.zm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data%=c.data,c.Ud()&&b.$d());this.n.da()};n.prototype.Dm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data=Math.pow(b.data,c.data),c.Ud()&&b.$d());
this.n.da()};n.prototype.mm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()?c.Zf()?b.yb(b.data.toString()+c.data):b.data&&c.data?b.V(1):b.V(0):b.Zf()&&(b.data=c.Zf()?b.data+c.data:b.data+(Math.round(1E10*c.data)/1E10).toString());this.n.da()};n.prototype.Cm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.ma()&&c.ma()&&(b.data||c.data?b.V(1):b.V(0));this.n.da()};n.prototype.nm=function(b){this.first.get(b);b.data?this.pa.get(b):this.Dg.get(b)};n.prototype.pm=
function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.V(b.data===c.data?1:0);this.n.da()};n.prototype.Bm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.V(b.data!==c.data?1:0);this.n.da()};n.prototype.xm=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.V(b.data<c.data?1:0);this.n.da()};n.prototype.ym=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.V(b.data<=c.data?1:0);this.n.da()};n.prototype.tm=function(b){this.first.get(b);var c=this.n.ja();
this.pa.get(c);b.V(b.data>c.data?1:0);this.n.da()};n.prototype.um=function(b){this.first.get(b);var c=this.n.ja();this.pa.get(c);b.V(b.data>=c.data?1:0);this.n.da()};n.prototype.qm=function(b){var c=this.ed.an();ea(c)?b.K(c):b.yb(c)};T=n;k.prototype.Ud=function(){return this.type===U.Fd};k.prototype.ma=function(){return this.type===U.Gd||this.type===U.Fd};k.prototype.Zf=function(){return this.type===U.qf};k.prototype.$d=function(){this.Ud()||(this.Zf()&&(this.data=parseFloat(this.data)),this.type=
U.Fd)};k.prototype.V=function(b){this.type=U.Gd;this.data=Math.floor(b)};k.prototype.K=function(b){this.type=U.Fd;this.data=b};k.prototype.yb=function(b){this.type=U.qf;this.data=b};k.prototype.ro=function(b){ea(b)?(this.type=U.Fd,this.data=b):L(b)?(this.type=U.qf,this.data=b.toString()):(this.type=U.Gd,this.data=0)};Db=k;U={Gd:0,Fd:1,qf:2}})();function Y(n){this.b=n;this.Xa=[]}
Y.prototype.Ob=function(){var n={},k,b,c,s,a,e,l,h;n.waits=[];var g=n.waits,m;k=0;for(b=this.Xa.length;k<b;k++){e=this.Xa[k];m={t:e.time,st:e.so,s:e.Ek,ev:e.xe.B,sm:[],sols:{}};e.xe.Eb[e.lb]&&(m.act=e.xe.Eb[e.lb].B);c=0;for(s=e.Z.length;c<s;c++)m.sm.push(e.Z[c].B);for(a in e.Wa)if(e.Wa.hasOwnProperty(a)){l=this.b.k[parseInt(a,10)];h={sa:e.Wa[a].vk,insts:[]};c=0;for(s=e.Wa[a].kd.length;c<s;c++)h.insts.push(e.Wa[a].kd[c].uid);m.sols[l.B.toString()]=h}g.push(m)}return n};
Y.prototype.vc=function(n){n=n.waits;var k,b,c,s,a,e,l,h,g,m,f;k=this.Xa.length=0;for(b=n.length;k<b;k++)if(e=n[k],h=this.b.Gi[e.ev.toString()]){g=-1;c=0;for(s=h.Eb.length;c<s;c++)if(h.Eb[c].B===e.act){g=c;break}if(-1!==g){l={Wa:{},Z:[],Qi:!1};l.time=e.t;l.so=e.st||"";l.Ek=!!e.s;l.xe=h;l.lb=g;c=0;for(s=e.sm.length;c<s;c++)(h=this.b.Sf(e.sm[c]))&&l.Z.push(h);for(a in e.sols)if(e.sols.hasOwnProperty(a)&&(h=this.b.Sf(parseInt(a,10)))){g=e.sols[a];m={vk:g.sa,kd:[]};c=0;for(s=g.insts.length;c<s;c++)(f=
this.b.hj(g.insts[c]))&&m.kd.push(f);l.Wa[h.index.toString()]=m}this.Xa.push(l)}}};
(function(){function n(){}function k(){}var b=Y.prototype;n.prototype.nl=H(!0);n.prototype.ml=H(!0);n.prototype.el=function(){var a=this.b.Fa();return a.eh?!1:!a.qd};n.prototype.Ai=H(!0);n.prototype.jl=H(!0);n.prototype.Mg=H(!0);n.prototype.ol=H(!0);n.prototype.Lg=H(!0);b.T=new n;var c=[],s=[];b.Dc=new (aa());k.prototype["int"]=function(a,b){L(b)?(a.V(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.V(b)};k.prototype["float"]=function(a,b){L(b)?(a.K(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.K(b)};k.prototype.random=
function(a,b,c){void 0===c?a.K(Math.random()*b):a.K(Math.random()*(c-b)+b)};k.prototype.sqrt=function(a,b){a.K(Math.sqrt(b))};k.prototype.round=function(a,b){a.V(Math.round(b))};k.prototype.floor=function(a,b){a.V(Math.floor(b))};k.prototype.ceil=function(a,b){a.V(Math.ceil(b))};k.prototype.sin=function(a,b){a.K(Math.sin(Q(b)))};k.prototype.cos=function(a,b){a.K(Math.cos(Q(b)))};k.prototype.tan=function(a,b){a.K(Math.tan(Q(b)))};k.prototype.acos=function(a,b){a.K(xa(Math.acos(b)))};k.prototype.max=
function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,h,g;c=2;for(h=arguments.length;c<h;c++)g=arguments[c],"number"===typeof g&&b<g&&(b=g);a.K(b)};k.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,h,g;c=2;for(h=arguments.length;c<h;c++)g=arguments[c],"number"===typeof g&&b>g&&(b=g);a.K(b)};k.prototype.Od=function(a){a.K(this.b.Od)};k.prototype.lf=function(a){a.K(this.b.lf)};k.prototype.time=function(a){a.K(this.b.Wd.Ca)};k.prototype.ke=function(a){a.V(this.b.ke)};
k.prototype.mg=function(a){a.V(this.b.mg)};k.prototype.kh=function(a){a.V(this.b.kh)};k.prototype.i=function(a,b,c,h,g){a.K(xa(Ba(b,c,h,g)))};k.prototype.left=function(a,b,c){a.yb(L(b)?b.substr(0,c):"")};k.prototype.right=function(a,b,c){a.yb(L(b)?b.substr(b.length-c):"")};k.prototype.replace=function(a,b,c,h){L(b)&&L(c)&&L(h)?a.yb(b.replace(RegExp(La(c),"gi"),h)):a.yb(L(b)?b:"")};k.prototype.Ll=function(a){var b=P(Math.random()*(arguments.length-1));a.ro(arguments[b+1])};k.prototype.Yg=function(a){a.K(this.b.Yg/
1E3)};k.prototype.hg=function(a){a.K(this.b.hg)};b.Xb=new k;b.jo=function(){var a,b,k,h,g,m,f=this.b.Fa();a=0;for(k=this.Xa.length;a<k;a++){h=this.Xa[a];if(-1===h.time){if(!h.Ek)continue}else if(h.time>this.b.Wd.Ca)continue;f.qb=h.xe;f.lb=h.lb;f.ga=0;for(b in h.Wa)h.Wa.hasOwnProperty(b)&&(g=this.b.k[parseInt(b,10)].P(),m=h.Wa[b],g.Y=m.vk,ra(g.c,m.kd),g=m,g.kd.length=0,s.push(g));h.xe.ho();this.b.Xg(h.Z);h.Qi=!0}b=a=0;for(k=this.Xa.length;a<k;a++)h=this.Xa[a],this.Xa[b]=h,h.Qi?(Ia(h.Wa),h.Z.length=
0,c.push(h)):b++;this.Xa.length=b}})();
(function(){Ua=function(k){var b=k[0].prototype,c=k[1],n=k[3],a=k[4],e=k[5],l=k[6],h=k[7];k=k[8];b.T||(b.T={});b.Dc||(b.Dc={});b.Xb||(b.Xb={});var g=b.T,m=b.Dc,b=b.Xb;n&&(g.Ro=function(a,b){return Eb(this.x,a,b)},g.So=function(a,b){return Eb(this.y,a,b)},g.bp=function(){var a=this.d;this.qa();var b=this.fa;return!(b.right<a.Ja||b.bottom<a.Ka||b.left>a.Db||b.top>a.Cb)},g.cp=function(){this.qa();var a=this.fa,b=this.b.X;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},g.op=function(a,b,
c){var e=this.P(),g=e.sb();if(!g.length)return!1;var h=g[0],p=h,d=Fa(h.x,h.y,b,c),k,l,m;k=1;for(l=g.length;k<l;k++)if(h=g[k],m=Fa(h.x,h.y,b,c),0===a&&m<d||1===a&&m>d)d=m,p=h;e.Ze(p);return!0},m.Hp=function(a){this.x!==a&&(this.x=a,this.M())},m.Ip=function(a){this.y!==a&&(this.y=a,this.M())},m.Cp=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.M()},m.Dp=function(a,b){var c=a.Vm(this);if(c){var e;c.sh?(e=c.sh(b,!0),c=c.sh(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=
c,this.M()}},m.hp=function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.M())},m.gp=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.M())},b.sl=function(a){a.K(this.x)},b.tl=function(a){a.K(this.y)},b.Od=function(a){a.K(this.b.ph(this))});a&&(g.Qo=function(a,b){return Eb(this.width,a,b)},g.No=function(a,b){return Eb(this.height,a,b)},m.Gp=function(a){this.width!==a&&(this.width=a,this.M())},m.zp=function(a){this.height!==a&&(this.height=a,this.M())},
m.Ep=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.M()},b.Mp=function(a){a.K(this.width)},b.Vo=function(a){a.K(this.height)},b.Jo=function(a){this.qa();a.K(this.fa.left)},b.Lo=function(a){this.qa();a.K(this.fa.top)},b.Ko=function(a){this.qa();a.K(this.fa.right)},b.Io=function(a){this.qa();a.K(this.fa.bottom)});e&&(g.Ho=function(a,b){return Ca(this.i,Q(b))<=Q(a)},g.Zo=function(a){return Ea(this.i,Q(a))},g.Xo=function(a,b){var c=Aa(a),e=Aa(b),g=S(this.i);return Ea(e,
c)?Ea(g,c)&&!Ea(g,e):!(!Ea(g,c)&&Ea(g,e))},m.pl=function(a){a=Q(ya(a));isNaN(a)||this.i===a||(this.i=a,this.M())},m.sp=function(a){0===a||isNaN(a)||(this.i+=Q(a),this.i=S(this.i),this.M())},m.tp=function(a){0===a||isNaN(a)||(this.i-=Q(a),this.i=S(this.i),this.M())},m.up=function(a,b){var c=Da(this.i,Q(b),Q(a));isNaN(c)||this.i===c||(this.i=c,this.M())},m.vp=function(a,b,c){a=Da(this.i,Math.atan2(c-this.y,b-this.x),Q(a));isNaN(a)||this.i===a||(this.i=a,this.M())},m.rl=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.i===c||(this.i=c,this.M())},b.Go=function(a){a.K(za(this.i))});c||(g.Oo=function(a,b,c){return Eb(this.ha[a],b,c)},g.Yo=function(a){return this.ha[a]},g.pp=function(a,b){var c=this.P(),e=c.sb();if(!e.length)return!1;var g=e[0],h=g,p=g.ha[b],d,k,l;d=1;for(k=e.length;d<k;d++)if(g=e[d],l=g.ha[b],0===a&&l<p||1===a&&l>p)p=l,h=g;c.Ze(h);return!0},g.np=function(a){var b,c,e,g,h;if(this.b.bj().zh){h=this.P();if(h.Y)for(h.Y=!1,h.c.length=0,h.J.length=0,e=this.c,b=0,c=e.length;b<
c;b++)g=e[b],g.uid===a?h.J.push(g):h.c.push(g);else{e=b=0;for(c=h.c.length;b<c;b++)g=h.c[b],h.c[e]=g,g.uid===a?h.J.push(g):e++;h.c.length=e}this.Sb();return!!h.c.length}g=this.b.hj(a);if(!g)return!1;h=this.P();if(!h.Y&&-1===h.c.indexOf(g))return!1;if(this.F)for(a=g.type.W,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Ze(g),this.Sb(),!0}else if(g.type===this)return h.Ze(g),this.Sb(),!0;return!1},g.yi=H(!0),g.ll=H(!0),m.Ap=function(a,b){var c=this.ha;ea(c[a])?c[a]=ea(b)?b:parseFloat(b):L(c[a])&&(c[a]=
L(b)?b:b.toString())},m.Fo=function(a,b){var c=this.ha;ea(c[a])?c[a]=ea(b)?c[a]+b:c[a]+parseFloat(b):L(c[a])&&(c[a]=L(b)?c[a]+b:c[a]+b.toString())},m.Jp=function(a,b){var c=this.ha;ea(c[a])&&(c[a]=ea(b)?c[a]-b:c[a]-parseFloat(b))},m.wp=function(a,b){this.ha[a]=b?1:0},m.Kp=function(a){this.ha[a]=1-this.ha[a]},m.Uo=function(){this.b.Ed(this)},m.gl||(m.gl=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.gg(this,b,!0);this.Yc&&this.Yc();if(this.A)for(a=0,b=this.A.length;a<b;++a)c=this.A[a],
c.Yc&&c.Yc()}),b.To=function(a){var b=a.ae.c.length,c,e,g;c=0;for(e=this.b.Ma.length;c<e;c++)g=this.b.Ma[c],a.ae.F?0<=g.type.W.indexOf(a.ae)&&b++:g.type===a.ae&&b++;a.V(b)},b.rp=function(a){a.V(a.ae.P().sb().length)},b.Lp=function(a){a.V(this.uid)},b.Wo=function(a){a.V(this.De())},b.dl||(b.dl=function(a){a.yb(JSON.stringify(this.b.hi(this,!0)))}));l&&(g.dp=ba("visible"),m.Fp=function(a){!a!==!this.visible&&(this.visible=a,this.b.U=!0)},g.Po=function(a,b){return Eb(Qa(100*this.opacity),a,b)},m.Bp=
function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.U=!0)},b.Opacity=function(a){a.K(Qa(100*this.opacity))});h&&(g.$o=function(a){return a?this.d===a:!1},g.qp=function(a){var b=this.P(),c=b.sb();if(!c.length)return!1;var e=c[0],g=e,h,p;h=1;for(p=c.length;h<p;h++)if(e=c[h],0===a){if(e.d.index>g.d.index||e.d.index===g.d.index&&e.gb()>g.gb())g=e}else if(e.d.index<g.d.index||e.d.index===g.d.index&&e.gb()<g.gb())g=e;b.Ze(g);return!0},m.kp=function(){var a=this.gb();a!==this.d.c.length-
1&&(qa(this.d.c,a),this.d.c.push(this),this.b.U=!0,this.d.Ya=!0)},m.ip=function(){var a=this.gb();0!==a&&(qa(this.d.c,a),this.d.c.unshift(this),this.b.U=!0,this.d.Ya=!0)},m.jp=function(a){a&&a!=this.d&&(qa(this.d.c,this.gb()),this.d.Ya=!0,this.d=a,this.Dd=a.c.length,a.c.push(this),this.b.U=!0)},m.Op=function(a,b){var c=0===a;if(b){var e=b.Om(this);if(e&&e.uid!==this.uid){this.d.index!==e.d.index&&(qa(this.d.c,this.gb()),this.d.Ya=!0,this.d=e.d,this.Dd=e.d.c.length,e.d.c.push(this));var g=this.gb(),
e=e.gb();qa(this.d.c,g);g<e&&e--;c&&e++;e===this.d.c.length?this.d.c.push(this):this.d.c.splice(e,0,this);this.d.Ya=!0;this.b.U=!0}}},b.fp=function(a){a.V(this.d.$j)},b.ep=function(a){a.yb(this.d.name)},b.Np=function(a){a.V(this.gb())});k&&(m.xp=function(a,b){if(this.b.p){var c=this.type.rh(b);if(!(0>c)){var e=1===a;this.Cc[c]!==e&&(this.Cc[c]=e,this.zc(),this.b.U=!0)}}},m.yp=function(a,b,c){if(this.b.p){var e=this.type.rh(a);0>e||(a=this.type.q[e],e=this.aa[e],b=Math.floor(b),0>b||b>=e.length||(1===
this.b.p.Ym(a.va,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.Za&&(this.b.U=!0))))}})};mb=function(){this.Tg=this.Qg=!0;this.type.uf=!0;this.b.U=!0;var k,b,c=this.Rg;k=0;for(b=c.length;k<b;++k)c[k](this)};nb=function(k){k&&this.Rg.push(k)};pb=function(){if(this.Qg){var k=this.fa,b=this.nb;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.Ra*this.width,-this.Sa*this.height);this.i?(k.offset(-this.x,-this.y),b.Bk(k,this.i),b.offset(this.x,this.y),b.Hi(k)):b.ef(k);k.normalize();this.Qg=!1}};
var n=new na(0,0,0,0);qb=function(){if(this.Tg&&this.jc){this.qa();var k=this.type.Ef,b=this.Df,c=this.fa;n.set(k.rf(c.left),k.sf(c.top),k.rf(c.right),k.sf(c.bottom));b.km(n)||(b.right<b.left?k.update(this,null,n):k.update(this,b,n),b.copy(n),this.Tg=!1)}};ob=function(k,b){return this.fa.ob(k,b)&&this.nb.ob(k,b)?this.I&&!this.I.Td()?(this.I.Kd(this.width,this.height,this.i),this.I.ob(k-this.x,b-this.y)):!0:!1};ib=function(){this.type.Jg();return this.hd};rb=function(){this.d.$k();return this.Dd};
sb=function(){this.H.length=0;var k,b;k=0;for(b=this.Cc.length;k<b;k++)this.Cc[k]&&this.H.push(this.type.q[k]);this.bl=!!this.H.length};jb=function(){return"Inst"+this.pk};Xa=function(k){if(k&&k.Jb&&k.type!=this){var b,c,n;b=0;for(c=k.siblings.length;b<c;b++)if(n=k.siblings[b],n.type==this)return n}k=this.P().sb();return k.length?k[0]:null};Ya=function(k){var b=this.P().sb();return b.length?b[k.De()%b.length]:null};Wa=function(){if(this.je&&!this.F){var k,b;k=0;for(b=this.c.length;k<b;k++)this.c[k].hd=
k;var c=k,n=this.b.Ma;k=0;for(b=n.length;k<b;++k)n[k].type===this&&(n[k].hd=c++);this.je=!1}};gb=function(k){if(k<this.c.length)return this.c[k];k-=this.c.length;var b=this.b.Ma,c,n;c=0;for(n=b.length;c<n;++c)if(b[c].type===this){if(0===k)return b[c];--k}return null};Za=function(){return this.Vc[this.lc]};$a=function(){this.lc++;this.lc===this.Vc.length?this.Vc.push(new Va(this)):this.Vc[this.lc].Y=!0};ab=function(){this.lc++;this.lc===this.Vc.length&&this.Vc.push(new Va(this));var k=this.Vc[this.lc],
b=this.Vc[this.lc-1];b.Y?k.Y=!0:(k.Y=!1,ra(k.c,b.c),ra(k.J,b.J))};bb=function(){this.lc--};cb=function(k){var b,c,n,a,e,l=0;if(!this.F)for(b=0,c=this.W.length;b<c;b++)for(e=this.W[b],n=0,a=e.ca.length;n<a;n++){if(k===e.ca[n].name)return this.R.lastBehIndex=l,e.ca[n];l++}b=0;for(c=this.ca.length;b<c;b++){if(k===this.ca[b].name)return this.R.lastBehIndex=l,this.ca[b];l++}return null};db=function(k){return this.Qf(k)?this.R.lastBehIndex:-1};eb=function(k){var b,c;b=0;for(c=this.q.length;b<c;b++)if(this.q[b].name===
k)return b;return-1};fb=function(){if(this.Jb&&!this.F){var k,b,c,n,a,e,l;this.Jg();e=this.P();var h=e.Y,g=(k=this.b.Fa())&&k.qb&&k.qb.Lb;k=0;for(b=this.Pa.length;k<b;k++)if(a=this.Pa[k],a!==this&&(a.Jg(),l=a.P(),l.Y=h,!h)){l.c.length=e.c.length;c=0;for(n=e.c.length;c<n;c++)l.c[c]=a.ej(e.c[c].hd);if(g)for(l.J.length=e.J.length,c=0,n=e.J.length;c<n;c++)l.J[c]=a.ej(e.J[c].hd)}}};hb=function(){return"Type"+this.B};Eb=function(k,b,c){if("undefined"===typeof k||"undefined"===typeof c)return!1;switch(b){case 0:return k===
c;case 1:return k!==c;case 2:return k<c;case 3:return k<=c;case 4:return k>c;case 5:return k>=c;default:return!1}}})();var Mb={};function Z(n){this.b=n}
(function(){function n(){if(0===this.ah.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ie?b.drawImage(this.Da,this.be,this.de,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Da,0,0,this.width,this.height);this.ah=a.toDataURL("image/png")}return this.ah}function k(){}function b(a){a[0]=0;a[1]=0;a[2]=0;x.push(a)}function c(a,b){return a<b?""+a+","+b:""+b+","+a}function s(a,b,e,f){b=b.uid;e=e.uid;var g=c(b,e);if(a.hasOwnProperty(g))a[g][2]=
f;else{var h=x.length?x.pop():[0,0,0];h[0]=b;h[1]=e;h[2]=f;a[g]=h}}function a(a,d,e){d=c(d.uid,e.uid);a.hasOwnProperty(d)&&(b(a[d]),delete a[d])}function e(a,b,e){b=c(b.uid,e.uid);if(a.hasOwnProperty(b))return u=a[b][2],!0;u=-2;return!1}function l(){}var h=Z.prototype;h.pe=function(a){this.Ia=a;this.b=a.b};var g=h.pe.prototype;g.Ua=function(){if(!this.F){var a,b,c,e,f,g,h,k,l;this.Fb=[];this.Fe=!1;a=0;for(b=this.Oa.length;a<b;a++){f=this.Oa[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.di=f[3];h.vg=
f[4];h.jk=f[5];h.B=f[6];h.frames=[];c=0;for(e=f[7].length;c<e;c++)g=f[7][c],k={},k.Kk=g[0],k.Lk=g[1],k.be=g[2],k.de=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Ra=g[7],k.Sa=g[8],k.vh=g[9],k.ng=g[10],k.kk=g[11],k.ie=0!==k.width,k.ah="",k.Sp=n,l={left:0,top:0,right:1,bottom:1},k.ki=l,k.Ac=null,(l=this.b.Km(g[0]))?k.Da=l:(k.Da=new Image,k.Da.idtkLoadDisposed=!0,k.Da.src=g[0],k.Da.Ol=g[0],k.Da.Nl=g[1],k.Da.Fl=null,this.b.Eo(k.Da)),h.frames.push(k),this.Fb.push(k);this.Oa[a]=h}}};g.Yk=function(){var a,
b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.Hf=c.pb.Ac};g.ek=function(){if(!this.F){var a,b,c;a=0;for(b=this.Fb.length;a<b;++a)c=this.Fb[a],c.Da.Fl=null,c.Ac=null;this.Fe=!1;this.Yk()}};g.fk=function(){if(!this.F&&this.c.length){var a,b,c;a=0;for(b=this.Fb.length;a<b;++a)c=this.Fb[a],c.Ac=this.b.p.Gj(c.Da,this.b.N,c.kk);this.Yk()}};g.Mn=function(){if(!this.F&&!this.Fe&&this.b.p){var a,b,c;a=0;for(b=this.Fb.length;a<b;++a)c=this.Fb[a],c.Ac=this.b.p.Gj(c.Da,this.b.N,c.kk);this.Fe=!0}};g.Vk=function(){if(!this.F&&
!this.c.length&&this.Fe){var a,b,c;a=0;for(b=this.Fb.length;a<b;++a)c=this.Fb[a],this.b.p.deleteTexture(c.Ac),c.Ac=null;this.Fe=!1}};var m=[];g.mk=function(a){var b,c,e;b=m.length=0;for(c=this.Fb.length;b<c;++b)e=this.Fb[b].Da,-1===m.indexOf(e)&&(a.drawImage(e,0,0),m.push(e))};h.Bc=function(a){this.type=a;this.b=a.b;a=this.type.Oa[0].frames[0].ng;this.Zb?this.I.ff(a):this.I=new Ma(a)};var f=h.Bc.prototype;f.Ua=function(){this.visible=0===this.Va[0];this.Dh=!1;this.jc=0!==this.Va[3];1===this.type.Oa.length&&
1===this.type.Oa[0].frames.length||0===this.type.Oa[0].speed||(this.b.Nk(this),this.Dh=!0);this.$=this.$i(this.Va[1])||this.type.Oa[0];this.m=this.Va[2];0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1);var a=this.$.frames[this.m];this.I.ff(a.ng);this.Ra=a.Ra;this.Sa=a.Sa;this.Nd=this.$.speed;this.Zb?this.Rb.reset():this.Rb=new Ka;this.pc=this.Rb.Ca;this.Zc=!0;this.gc=0;this.Ec=!0;this.Vg=this.Di="";this.Jl=0;this.Ug=-1;this.type.Mn();var b,c,e,f,g,h,k,a=0;for(b=this.type.Oa.length;a<
b;a++)for(f=this.type.Oa[a],c=0,e=f.frames.length;c<e;c++)g=f.frames[c],0===g.width&&(g.width=g.Da.width,g.height=g.Da.height),g.ie&&(k=g.Da,h=g.ki,h.left=g.be/k.width,h.top=g.de/k.height,h.right=(g.be+g.width)/k.width,h.bottom=(g.de+g.height)/k.height,0===g.be&&0===g.de&&g.width===k.width&&g.height===k.height&&(g.ie=!1));this.pb=this.$.frames[this.m];this.Hf=this.pb.Ac};f.Ob=function(){var a={a:this.$.B,f:this.m,cas:this.Nd,fs:this.pc,ar:this.gc,at:this.Rb.Ca};this.Zc||(a.ap=this.Zc);this.Ec||(a.af=
this.Ec);return a};f.vc=function(a){var b=this.Mm(a.a);b&&(this.$=b);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1);this.Nd=a.cas;this.pc=a.fs;this.gc=a.ar;this.Rb.reset();this.Rb.Ca=a.at;this.Zc=a.hasOwnProperty("ap")?a.ap:!0;this.Ec=a.hasOwnProperty("af")?a.af:!0;this.pb=this.$.frames[this.m];this.Hf=this.pb.Ac;this.I.ff(this.pb.ng);this.Ra=this.pb.Ra;this.Sa=this.pb.Sa};f.Pg=function(a){this.m=a?0:this.$.frames.length-1;this.Zc=!1;this.Di=this.$.name;
this.b.trigger(Z.prototype.T.il,this);this.b.trigger(Z.prototype.T.hl,this);this.gc=0};f.Tp=function(){return this.Rb.Ca};f.Ad=function(){this.Rb.add(this.b.ph(this));this.Vg.length&&this.Sl();0<=this.Ug&&this.Tl();var a=this.Rb.Ca,b=this.$,c=b.frames[this.m],e=c.duration/this.Nd;this.Zc&&a>=this.pc+e&&(this.Ec?this.m++:this.m--,this.pc+=e,this.m>=b.frames.length&&(b.jk?(this.Ec=!1,this.m=b.frames.length-2):b.loop?this.m=b.vg:(this.gc++,this.gc>=b.di?this.Pg(!1):this.m=b.vg)),0>this.m&&(b.jk?(this.m=
1,this.Ec=!0,b.loop||(this.gc++,this.gc>=b.di&&this.Pg(!0))):b.loop?this.m=b.vg:(this.gc++,this.gc>=b.di?this.Pg(!0):this.m=b.vg)),0>this.m?this.m=0:this.m>=b.frames.length&&(this.m=b.frames.length-1),a>this.pc+b.frames[this.m].duration/this.Nd&&(this.pc=a),a=b.frames[this.m],this.Hd(c,a),this.b.U=!0)};f.$i=function(a){var b,c,e;b=0;for(c=this.type.Oa.length;b<c;b++)if(e=this.type.Oa[b],Ra(e.name,a))return e;return null};f.Mm=function(a){var b,c,e;b=0;for(c=this.type.Oa.length;b<c;b++)if(e=this.type.Oa[b],
e.B===a)return e;return null};f.Sl=function(){var a=this.$.frames[this.m],b=this.$i(this.Vg);this.Vg="";!b||Ra(b.name,this.$.name)&&this.Zc||(this.$=b,this.Nd=b.speed,0>this.m&&(this.m=0),this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1),1===this.Jl&&(this.m=0),this.Zc=!0,this.pc=this.Rb.Ca,this.Ec=!0,this.Hd(a,this.$.frames[this.m]),this.b.U=!0)};f.Tl=function(){var a=this.$.frames[this.m],b=this.m;this.m=P(this.Ug);0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-
1);b!==this.m&&(this.Hd(a,this.$.frames[this.m]),this.pc=this.Rb.Ca,this.b.U=!0);this.Ug=-1};f.Hd=function(a,b){var c=a.width,e=a.height,f=b.width,g=b.height;c!=f&&(this.width*=f/c);e!=g&&(this.height*=g/e);this.Ra=b.Ra;this.Sa=b.Sa;this.I.ff(b.ng);this.M();this.pb=b;this.Hf=b.Ac;c=0;for(e=this.A.length;c<e;c++)f=this.A[c],f.Sn&&f.Sn(a,b);this.b.trigger(Z.prototype.T.Hd,this)};f.cd=function(a){a.globalAlpha=this.opacity;var b=this.pb,c=b.ie,e=b.Da,f=this.x,g=this.y,h=this.width,k=this.height;if(0===
this.i&&0<=h&&0<=k)f-=this.Ra*h,g-=this.Sa*k,this.b.ee&&(f=Math.round(f),g=Math.round(g)),c?a.drawImage(e,b.be,b.de,b.width,b.height,f,g,h,k):a.drawImage(e,f,g,h,k);else{this.b.ee&&(f=Math.round(f),g=Math.round(g));a.save();var l=0<h?1:-1,m=0<k?1:-1;a.translate(f,g);1===l&&1===m||a.scale(l,m);a.rotate(this.i*l*m);f=0-this.Ra*M(h);g=0-this.Sa*M(k);c?a.drawImage(e,b.be,b.de,b.width,b.height,f,g,M(h),M(k)):a.drawImage(e,f,g,M(h),M(k));a.restore()}};f.Vb=function(a){a.xb(this.Hf);a.df(this.opacity);var b=
this.pb,c=this.nb;if(this.b.ee){var e=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;b.ie?a.wd(c.wa+e,c.xa+f,c.jb+e,c.kb+f,c.cb+e,c.eb+f,c.ab+e,c.bb+f,b.ki):a.sg(c.wa+e,c.xa+f,c.jb+e,c.kb+f,c.cb+e,c.eb+f,c.ab+e,c.bb+f)}else b.ie?a.wd(c.wa,c.xa,c.jb,c.kb,c.cb,c.eb,c.ab,c.bb,b.ki):a.sg(c.wa,c.xa,c.jb,c.kb,c.cb,c.eb,c.ab,c.bb)};f.Qm=function(a){var b=this.pb,c,e;c=0;for(e=b.vh.length;c<e;c++)if(Ra(a,b.vh[c][0]))return c;return-1};f.sh=function(a,b){var c=this.pb,e=c.vh,f;f=L(a)?this.Qm(a):a-1;
f=P(f);if(0>f||f>=e.length)return b?this.x:this.y;var g=(e[f][1]-c.Ra)*this.width,e=e[f][2],e=(e-c.Sa)*this.height,c=Math.cos(this.i);f=Math.sin(this.i);var h=g*c-e*f,e=e*c+g*f,g=h+this.x,e=e+this.y;return b?g:e};var x=[],u=-2,w=[];k.prototype.kl=function(c){if(!c)return!1;var d=this.b,f=d.bj(),g=f.type;f.R.collmemory||(f.R.collmemory={},d.ul(function(a){return function(c){c=c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===c||e[1]===c)&&(b(a[d]),delete a[d])}}(f.R.collmemory)));var f=
f.R.collmemory,h=g.P(),k=c.P(),h=h.sb(),l,m,n,q,v,x,F,z=this.b.ke,R=z-1,A=d.Fa().qb;for(m=0;m<h.length;m++){n=h[m];k.Y?(n.qa(),this.b.aj(n.d,c,n.fa,w),l=w):l=k.sb();for(q=0;q<l.length;q++)v=l[q],d.yd(n,v)||d.Kl(n,v)?(x=e(f,n,v),x=!x||u<R,s(f,n,v,z),x&&(d.qg(A.Z),x=g.P(),F=c.P(),x.Y=!1,F.Y=!1,g===c?(x.c.length=2,x.c[0]=n,x.c[1]=v,g.Sb()):(x.c.length=1,F.c.length=1,x.c[0]=n,F.c[0]=v,g.Sb(),c.Sb()),A.io(),d.ud(A.Z))):a(f,n,v);w.length=0}return!1};var v=new I,q=!1;g.finish=function(a){if(q){if(a){var b=
this.b.Fa().qb.Lb;a=null.P();var c=v.Cd(),e,f;if(a.Y){a.Y=!1;a.c.length=c.length;e=0;for(f=c.length;e<f;e++)a.c[e]=c[e];if(b)for(e=a.J.length=0,f=null.c.length;e<f;e++)c=null.c[e],v.contains(c)||a.J.push(c)}else if(b)for(b=a.c.length,a.c.length=b+c.length,e=0,f=c.length;e<f;e++)a.c[b+e]=c[e],wa(a.J,c[e]);else ra(a.c,c);null.Sb()}v.clear();q=!1}};k.prototype.hl=function(a){return Ra(this.Di,a)};k.prototype.il=H(!0);k.prototype.Hd=H(!0);h.T=new k;l.prototype.ql=function(a){this.Nd=M(a);this.Ec=0<=a;
this.Dh||(this.b.Nk(this),this.Dh=!0)};h.Dc=new l;h.Xb=new (aa())})();function Ob(n){this.b=n}
(function(){var n=Ob.prototype;n.pe=function(b){this.ic=b;this.b=b.b};n.pe.prototype.Ua=aa();n.Bc=function(b,c){this.type=b;this.ic=b.ic;this.G=c;this.b=b.b};var k=n.Bc.prototype;k.Ua=function(){var b=this.Va[0];this.tf=this.Va[1];this.Pf=this.Va[2];this.Cl=0!==this.Va[3];this.ji=0!==this.Va[4];this.Ea=Math.cos(this.G.i)*b;this.ra=Math.sin(this.G.i)*b;this.bg=this.G.x;this.cg=this.G.y;this.Xd=this.G.i;this.Hg=0;this.enabled=0!==this.Va[5]};k.Ob=function(){return{acc:this.tf,g:this.Pf,dx:this.Ea,dy:this.ra,
lx:this.bg,ly:this.cg,lka:this.Xd,t:this.Hg,e:this.enabled}};k.vc=function(b){this.tf=b.acc;this.Pf=b.g;this.Ea=b.dx;this.ra=b.dy;this.bg=b.lx;this.cg=b.ly;this.Xd=b.lka;this.Hg=b.t;this.enabled=b.e};k.Ad=function(){if(this.enabled){var b=this.b.ph(this.G),c,k;this.G.i!==this.Xd&&(this.ji&&(c=Fa(0,0,this.Ea,this.ra),this.Ea=Math.cos(this.G.i)*c,this.ra=Math.sin(this.G.i)*c),this.Xd=this.G.i);0!==this.tf&&(c=Fa(0,0,this.Ea,this.ra),k=0===this.Ea&&0===this.ra?this.G.i:Ba(0,0,this.Ea,this.ra),c+=this.tf*
b,0>c&&(c=0),this.Ea=Math.cos(k)*c,this.ra=Math.sin(k)*c);0!==this.Pf&&(this.ra+=this.Pf*b);this.bg=this.G.x;this.cg=this.G.y;if(0!==this.Ea||0!==this.ra)if(this.G.x+=this.Ea*b,this.G.y+=this.ra*b,this.Hg+=Fa(0,0,this.Ea*b,this.ra*b),this.ji&&(this.G.i=Ba(0,0,this.Ea,this.ra),this.G.M(),this.Xd=this.G.i),this.G.M(),this.Cl&&(c=this.b.zd(this.G)))this.b.fo(this.G,c),c=Fa(0,0,this.Ea,this.ra),k=this.b.Gl(this.G,this.bg,this.cg),this.Ea=Math.cos(k)*c,this.ra=Math.sin(k)*c,this.G.x+=this.Ea*b,this.G.y+=
this.ra*b,this.G.M(),this.ji&&(this.Xd=this.G.i=k,this.G.M()),this.b.co(this.G,this.Ea/c,this.ra/c,Math.max(2.5*c*b,30))||this.b.eo(this.G)}};n.T=new (aa());n.Dc=new (aa());n.Xb=new (aa())})();
function Nb(){return[null,null,[[Z,!1,!0,!0,!0,!0,!0,!0,!0,!1]],[["t0",Z,!1,[],0,0,null,[["Default",5,!1,1,0,!1,9665518689727254,[["images/gross-sheet0.png",258,0,0,768,220,1,0.5,0.5,[],[],1]]]],[],!1,!1,0xb670de5a3ed2e,[],null],["t1",Z,!1,[],0,0,null,[["Default",5,!1,1,0,!1,5446248392780653,[["images/carrotfw-sheet0.png",740672,1303,1,189,416,1,0.5026454925537109,0.5,[],[-0.3015874922275543,-0.4086537957191467,-0.005290478467941284,-0.4759615063667297,0.3439155220985413,-0.4302884936332703,0.4656084775924683,
0,0.2433865070343018,0.3846150040626526,-0.005290478467941284,0.466346025466919,-0.2751324772834778,0.3966349959373474,-0.4867724776268005,0],0],["images/carrotfw-sheet0.png",740672,1,1,1300,904,1,0.5,0.5,[],[-0.3153849840164185,-0.2345130145549774,0,-0.3982300162315369,0.3407689929008484,-0.271017998456955,0.2123079895973206,0,0.5,0.5,-0.5,0.5,-0.4161537885665894,0],0],["images/carrotfw-sheet0.png",740672,1600,1,50,50,1,0.5,0.5,[],[],0],["images/carrotfw-sheet0.png",740672,1494,1,104,83,1,0.5,0.5060241222381592,
[],[-0.4807691872119904,-0.4819277226924896,0,-0.03614410758018494,0.4711539745330811,-0.4698795080184937,0.375,-0.01204812526702881,0.2211539745330811,0.1445778608322144,0,0.4939758777618408,-0.2115379869937897,0.1325298547744751,-0.3557689785957336,-0.01204812526702881],0]]]],[],!1,!1,0xd9c09c21ef379,[],null],["t2",Z,!1,[],1,0,null,[["Default",5,!1,1,0,!1,0xb6069fa17766d,[["images/carrotfw-sheet0.png",740672,1,1,1300,904,1,0.5,0.5,[],[-0.3153849840164185,-0.2345130145549774,0,-0.3982300162315369,
0.3407689929008484,-0.271017998456955,0.2123079895973206,0,0.5,0.5,-0.5,0.5,-0.4161537885665894,0],0]]]],[["Bullet",Ob,4878220539486091]],!1,!1,7126325966178054,[],null],["t3",Z,!1,[],0,0,null,[["Default",5,!1,1,0,!1,9883803231087028,[["images/carrotfw-sheet0.png",740672,1600,1,50,50,1,0.5,0.5,[],[],0]]]],[],!1,!1,7589670466536743,[],null],["t4",Z,!1,[],0,0,null,[["Default",5,!1,1,0,!1,0xb140a3af895ca,[["images/carrotfw-sheet0.png",740672,1494,1,104,83,1,0.5,0.5060241222381592,[],[-0.4807691872119904,
-0.4819277226924896,0,-0.03614410758018494,0.4711539745330811,-0.4698795080184937,0.375,-0.01204812526702881,0.2211539745330811,0.1445778608322144,0,0.4939758777618408,-0.2115379869937897,0.1325298547744751,-0.3557689785957336,-0.01204812526702881],0]]]],[],!1,!1,998745441820906,[],null]],[],[["Layout 1",1708,1350,!1,"Event sheet 1",0xe35da1bd1cadd,[["bg",0,4795222757151178,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[387,926,0,774,220,0,0,1,0.5,0.5,0,0,[]],0,0,[],[],[0,"Default",0,1]],[[353,963,0,42.76290130615234,
94.1236343383789,0,0,1,0.5026454925537109,0.5,0,0,[]],1,1,[],[],[0,"Default",0,1]],[[109,-75,0,150.9549255371094,104.9717330932617,0,0,1,0.5,0.5,0,0,[]],2,2,[],[[150,0,0,0,1,1]],[0,"Default",0,1]],[[71,868,0,91.4658432006836,91.4658432006836,0,0,1,0.5,0.5,0,0,[]],3,3,[],[],[0,"Default",0,1]],[[358,822,0,104,83,0,0,1,0.5,0.5060241222381592,0,0,[]],4,4,[],[],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[0,null,!1,null,0xf110977b89125,[[2,Z.prototype.T.yi,null,1,!1,!1,!1,7941375622380705,!1]],
[[2,Z.prototype.Dc.rl,null,9986391980120468,!1,[[0,[20,3,Z.prototype.Xb.sl,!1,null]],[0,[20,3,Z.prototype.Xb.tl,!1,null]]]]]],[0,null,!1,null,0x618fab42ae17f,[[2,Z.prototype.T.kl,null,0,!1,!1,!0,5014610180997145,!1,[[4,3]]]],[[2,Z.prototype.Dc.ql,null,9462814496736892,!1,[[0,[0,50]]]],[2,Z.prototype.Dc.pl,null,8831222878619423,!1,[[0,[0,0]]]]]]]]],[],"media/",!1,768,1024,4,!0,!0,!0,"1.0.0.0",!0,!1,0,0,5,!1,!0,1,!0,"New project",[]]};
